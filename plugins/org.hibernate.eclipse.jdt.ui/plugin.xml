<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         point="org.eclipse.jdt.ui.quickAssistProcessors">
      <quickAssistProcessor
            class="org.hibernate.eclipse.jdt.ui.internal.CriteriaQuickAssistProcessor"
            id="org.hibernate.eclipse.jdt.ui.criteriaquickassist"
            name="Criteria Quick Assists"/>
      <quickAssistProcessor
            class="org.hibernate.eclipse.jdt.ui.internal.HQLQuickAssistProcessor"
            id="org.hibernate.eclipse.jdt.ui.hqlquickassist"
            name="HQL Quick Assist"/>
   </extension>
  <extension
          id="org.hibernate.eclipse.jdt.ui.completioncategory"
          name="Hibernate proposals"
          point="org.eclipse.jdt.ui.javaCompletionProposalComputer">
       <javaCompletionProposalComputer
             activate="true"
             categoryId="org.hibernate.eclipse.jdt.ui.completioncategory"
             class="org.hibernate.eclipse.jdt.ui.internal.HQLJavaCompletionProposalComputer">
          <partition type="__java_string"/>
       </javaCompletionProposalComputer>
       <proposalCategory icon="icons/hibernate_proposalcategory.png"/>
    </extension>
  <extension
        point="org.eclipse.jdt.core.compilationParticipant">
     <compilationParticipant
           class="org.hibernate.eclipse.jdt.ui.internal.HQLExpressionCompilerParticipant"
           createsProblems="true"
           id="org.hibernate.eclipse.jdt.ui.internal.HQLExpressionCompilerParticipant">
        <managedMarker markerType="org.hibernate.eclipse.jdt.ui.hqlsyntax.problem"/>
     </compilationParticipant>
  </extension>
<extension id="org.hibernate.eclipse.jdt.ui.hqlsyntax.problem" point="org.eclipse.core.resources.markers" name="HQL syntax problem">
	<super type="org.eclipse.core.resources.problemmarker"/>
	<super type="org.eclipse.core.resources.textmarker"/>
	<persistent value="true"/>
</extension>
    <extension point="org.eclipse.ui.commands"> 
        <category id="org.hibernate.eclipse.jdt.ui.run_jpaaction.category1" 
            name="Generate Hibernate/JPA annotations"> 
        </category> 
        <command categoryId="org.hibernate.eclipse.jdt.ui.run_jpaaction.category1" 
            defaultHandler="org.hibernate.eclipse.jdt.ui.internal.jpa.actions.JPAMapToolActionDelegate" 
            id="org.hibernate.eclipse.jdt.ui.run_jpaaction" 
            name="Generate &amp;Hibernate/JPA annotations..."> 
        </command> 
    </extension> 
    <extension point="org.eclipse.ui.menus"> 
        <menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=edit"> 
            <menu id="org.eclipse.jdt.ui.source.menu" label="&amp;Source"> 
            </menu> 
        </menuContribution> 
        <menuContribution locationURI="menu:org.eclipse.jdt.ui.source.menu"> 
            <separator name="commentGroup" visible="true"/> 
            <separator name="editGroup" visible="true"/> 
            <separator name="importGroup" visible="true"/> 
            <separator name="generateGroup" visible="true"/> 
            <separator name="codeGroup" visible="true"/> 
            <separator name="externalizeGroup" visible="true"/> 
            <separator name="convertGroup" visible="true"/> 
        </menuContribution> 
        <menuContribution locationURI="menu:org.eclipse.jdt.ui.source.menu?after=generateGroup"> 
            <command commandId="org.hibernate.eclipse.jdt.ui.run_jpaaction" 
                id="org.hibernate.eclipse.jdt.ui.run_jpaaction" style="push"> 
                <visibleWhen checkEnabled="false"> 
                    <not> 
                        <reference definitionId="org.eclipse.wst.sse.ui.sseActiveContext.definition"></reference> 
                    </not> 
                </visibleWhen> 
            </command> 
        </menuContribution>
        <!-- next section will show Hibernate/JPA menu item in case of active XML editor --> 
        <!--<menuContribution locationURI="menu:sourceMenuId?after=additions"> 
            <command commandId="org.hibernate.eclipse.jdt.ui.run_jpaaction" 
                id="org.hibernate.eclipse.jdt.ui.run_jpaaction1" style="push"> 
                <visibleWhen checkEnabled="false"> 
                    <reference definitionId="org.eclipse.wst.sse.ui.sseActiveContext.definition"></reference> 
                </visibleWhen> 
            </command> 
        </menuContribution>--> 
    </extension> 
    <extension point="org.eclipse.ui.popupMenus">
		<!-- java editor context menu -->
        <viewerContribution
            id="org.hibernate.eclipse.jdt.ui.run_jpa.popupMenu"
            targetID="#CompilationUnitEditorContext">
            <menu label="&amp;Source" path="edit" id="org.eclipse.jdt.ui.source.menu">
		        <separator name="commentGroup"/>
                <separator name="editGroup"/>
                <separator name="importGroup"/>
                <separator name="generateGroup"/>
                <separator name="codeGroup"/>
                <separator name="externalizeGroup"/>
                <separator name="convertGroup"/>
            </menu>
            <action
                  class="org.hibernate.eclipse.jdt.ui.internal.jpa.actions.JPAMapToolActionDelegate"
                  id="org.hibernate.eclipse.jdt.ui.run_jpaaction2"
                  label="Generate &amp;Hibernate/JPA annotations..."
                  menubarPath="org.eclipse.jdt.ui.source.menu/generateGroup"
                  style="push">
            </action>
        </viewerContribution>
		<!-- java element context menu -->
		<objectContribution adaptable="false"
			id="org.hibernate.eclipse.jdt.ui.run_jpa.popupMenu.IJavaElementContribution"
			objectClass="org.eclipse.jdt.core.IJavaElement">
            <menu label="&amp;Source" path="edit" id="org.eclipse.jdt.ui.source.menu">
		        <separator name="commentGroup"/>
                <separator name="editGroup"/>
                <separator name="importGroup"/>
                <separator name="generateGroup"/>
                <separator name="codeGroup"/>
                <separator name="externalizeGroup"/>
                <separator name="convertGroup"/>
            </menu>
			<action class="org.hibernate.eclipse.jdt.ui.internal.jpa.actions.JPAMapToolActionDelegate"
				id="org.hibernate.eclipse.jdt.ui.run_jpaaction3"
				label="Generate &amp;Hibernate/JPA annotations"
				menubarPath="org.eclipse.jdt.ui.source.menu/generateGroup">
			</action>
		</objectContribution>
    </extension>

</plugin>
