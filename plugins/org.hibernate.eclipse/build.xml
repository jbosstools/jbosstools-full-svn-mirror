<!--

  HibernateTools ANT build script.
-->

<project name="org.hibernate.eclipse" default="dist" basedir=".">

	<!-- Name of project and version, used to create filenames -->
    <property name="Name" value="org.hibernate.eclipse"/>
    <property name="name" value="org.hibernate.eclipse"/>
    <property name="version" value="3.0"/>
	<property name="javadoc.packagenames" value="org.hibernate.eclipse.*"/>
    <property name="lib.dir" location="build/lib"/>

	<property name="src.dir" location="src"/>
	
	<import file="../common/common-build.xml"/> 

	<target name="javadoc"/>
	
	<target name="update" depends="init">
		<ant antfile="${hibernate-core.home}\..\hibernate3\build.xml" inheritall="false" inheritrefs="false" target="jar"/> 
		<ant antfile="${hibernate-core.home}\..\hibernate3\build.xml" inheritall="false" inheritrefs="false" target="copylib"/>  

		<!-- we need to have the hibernateconsole stuff together with the core to fake DriverManager into allow loading drivers -->
		<ant antfile="..\console\build.xml" inheritall="false" inheritrefs="false" target="jar"/>
		<copy file="..\console\target\hibernateconsole-3.0\hibernateconsole.jar" todir="lib"/>

		<ant antfile="..\console\build.xml" inheritall="false" inheritrefs="false" target="jar"/>
		<copy file="..\console\target\hibernateconsole-3.0\hibernateconsole.jar" todir="lib"/>

		<ant antfile="..\tools\build.xml" inheritall="false" inheritrefs="false" target="jar"/>
		<copy file="..\tools\target\hibernate-tools-3.0\hibernate-tools.jar" todir="lib"/>
		<copy file="..\tools\target\hibernate-tools-3.0\lib\velocity-1.4.jar" todir="lib"/>
		<copy file="..\tools\target\hibernate-tools-3.0\lib\velocity-tools-generic-1.1.jar" todir="lib"/>		
		<copy file="..\tools\target\hibernate-tools-3.0\lib\jtidy-r8-21122004.jar" todir="lib"/>		
		
		<property file="${hibernate-core.lib.dir}/version.properties" prefix="h3"/>
		
        <copy todir="lib" >
			<fileset dir="${hibernate-core.home}">
				<include name="hibernate3.jar"/>	
        	</fileset>
        	    	
            <fileset dir="${hibernate-core.lib.dir}">
            	<include name="${h3.antlr.lib}"/>
            	<include name="${h3.c3p0.lib}"/>
		    	<include name="${h3.cglib.lib}"/>
		    	<include name="${h3.commons-collections.lib}"/>
				<include name="${h3.commons-logging.lib}"/>
				<include name="${h3.dom4j.lib}"/>
            	
            	<!-- ehcache, required if no other cache provider is set -->
            	<include name="${h3.ehcache.lib}"/>
            	
            	<!-- optionals (required when outside app container)-->
            	<include name="${h3.connector.lib}"/>
            	<include name="${h3.jdbc-stdext.lib}"/>
            	<include name="${h3.jta.lib}"/>

            	<!-- replicated caches -->
            	<include name="${h3.jgroups.lib}"/>
            	
            	<!-- Treecache deps -->
				<include name="${h3.concurrent.lib}"/>            	
            	<include name="${h3.jboss-cache.lib}"/>            	
            	<include name="${h3.jboss-common.lib}"/>            	
            	<include name="${h3.jboss-jmx.lib}"/>            	
            	<include name="${h3.jboss-system.lib}"/>            	
				<!-- Treecache deps end -->
            	
            	<!-- unclassified -->
            	<include name="${h3.commons-collections.lib}"/>
            	<include name="${h3.jaas.lib}"/>
            	<include name="${h3.log4j.lib}"/>
               	<include name="${h3.oscache.lib}"/>
            	<include name="${h3.proxool.lib}"/>
            	<include name="${h3.swarmcache.lib}"/>
            </fileset>
        </copy>

	</target>

</project>
