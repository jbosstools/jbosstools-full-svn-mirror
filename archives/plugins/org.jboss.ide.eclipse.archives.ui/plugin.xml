<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension-point id="nodePopupMenus" name="Popup Menus for IPackageNodes" schema="schema/nodePopupMenus.exsd"/>
   <extension-point id="newArchiveActions" name="Actions to create new Package types" schema="schema/newArchiveActions.exsd"/>

   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="false"
            category="org.jboss.ide.eclipse.ui.views"
            class="org.jboss.ide.eclipse.archives.ui.views.ProjectArchivesCommonView"
            icon="icons/jar_obj.gif"
            id="org.jboss.ide.eclipse.archives.ui.ProjectArchivesView"
            name="Project archives"/>
   </extension>

   <extension
         point="org.jboss.ide.eclipse.archives.ui.newArchiveActions">
      <newPackageAction
            class="org.jboss.ide.eclipse.archives.ui.actions.NewJARAction"
            icon="icons/new_package.gif"
            id="org.jboss.ide.eclipse.archives.ui.newJARAction"
            label="JAR"/>
   </extension>
   
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            id="org.jboss.ide.eclipse.archives.ui.actions.Archives"
            label="Archives"
            visible="true">
         <action
               class="org.jboss.ide.eclipse.archives.ui.actions.BuildAction"
               definitionId="org.jboss.ide.eclipse.packages.ui.actions.BuildArchivesAction"
               icon="icons/build_packages.gif"
               id="org.jboss.ide.eclipse.archives.ui.actions.BuildArchivesAction"
               label="Build Packages"
               menubarPath="project/additions"
               style="push">
            <enablement>
               <and>
               	<objectState
                     name="projectNature"
                     value="org.jboss.ide.eclipse.archives.core.archivesNature"/>
               </and>
            </enablement>
         </action>
      </actionSet>
   </extension>
   
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="org.jboss.ide.eclipse.archives.ui.preferences.MainPreferencePage"
            id="org.jboss.ide.eclipse.archives.ui.archivesPreferencePage"
            name="Packaging Archives"/>
   </extension>
   
   
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            class="org.jboss.ide.eclipse.archives.ui.preferences.MainPreferencePage"
            id="org.jboss.ide.eclipse.archives.ui.projectProperties"
            name="Packaging Archives"
            objectClass="org.eclipse.core.resources.IProject"/>
      <page
            class="org.jboss.ide.eclipse.archives.ui.preferences.MainPreferencePage"
            id="org.jboss.ide.eclipse.archives.ui.projectProperties2"
            name="Packaging Archives"
            objectClass="org.eclipse.jdt.core.IJavaProject"/>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer class="org.jboss.ide.eclipse.archives.ui.PrefsInitializer"/>
   </extension>
   
   
   
   <extension
         point="org.eclipse.ui.navigator.viewer">
      <viewer
            viewerId="org.jboss.ide.eclipse.archives.ui.ProjectArchivesView">
      </viewer>
      <viewerContentBinding
            viewerId="org.jboss.ide.eclipse.archives.ui.ProjectArchivesView">
         <includes>
            <contentExtension
                  isRoot="true"
                  pattern="org.jboss.ide.eclipse.archives.ui.archivesContent">
            </contentExtension>
         </includes>
      </viewerContentBinding>
      <viewerContentBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <contentExtension pattern="org.jboss.ide.eclipse.archives.ui.archivesRootBridgeContent"/>
         </includes>
      </viewerContentBinding>
      <viewerActionBinding
            viewerId="org.jboss.ide.eclipse.archives.ui.ProjectArchivesView">
         <includes>
            <actionExtension
                  pattern="org.jboss.ide.eclipse.archives.ui.providers.ArchivesActionProvider">
            </actionExtension>
         </includes>
      </viewerActionBinding>
      <viewerActionBinding
            viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <actionExtension
                  pattern="org.jboss.ide.eclipse.archives.ui.providers.ArchivesActionProvider">
            </actionExtension>
         </includes>
      </viewerActionBinding>
      
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            activeByDefault="true"
            contentProvider="org.jboss.ide.eclipse.archives.ui.providers.ArchivesRootContentProvider"
            icon="icons/jar_obj.gif"
            id="org.jboss.ide.eclipse.archives.ui.archivesContent"
            labelProvider="org.jboss.ide.eclipse.archives.ui.providers.ArchivesLabelProvider"
            name="Archives Content"
            priority="normal"
            providesSaveables="true">
         <triggerPoints>
            <instanceof
                  value="org.eclipse.core.resources.IWorkspaceRoot">
            </instanceof>
         </triggerPoints>
         <possibleChildren>
            <or>
               <instanceof
                     value="org.jboss.ide.eclipse.archives.core.model.IArchiveNode">
               </instanceof>
               <instanceof
                     value="org.jboss.ide.eclipse.archives.ui.providers.ArchivesContentProviderDelegate$DelayProxy">
               </instanceof>
            </or>
         </possibleChildren>
      </navigatorContent>
      <navigatorContent
            contentProvider="org.jboss.ide.eclipse.archives.ui.providers.ArchivesRootBridgeContentProvider"
            icon="icons/jar_obj.gif"
            id="org.jboss.ide.eclipse.archives.ui.archivesRootBridgeContent"
            labelProvider="org.jboss.ide.eclipse.archives.ui.providers.ArchivesLabelProvider"
            name="Project Archives"
            priority="lower">
         <triggerPoints>
            <instanceof
                  value="org.eclipse.core.resources.IProject">
            </instanceof>
         </triggerPoints>
         <possibleChildren>
            <or>
               <instanceof
                     value="org.jboss.ide.eclipse.archives.core.model.IArchiveNode">
               </instanceof>
               <instanceof
                     value="org.jboss.ide.eclipse.archives.ui.providers.ArchivesContentProviderDelegate$DelayProxy">
               </instanceof>
            </or>
         </possibleChildren>
      </navigatorContent>
      <actionProvider
            class="org.jboss.ide.eclipse.archives.ui.providers.ArchivesActionProvider"
            id="org.jboss.ide.eclipse.archives.ui.providers.ArchivesActionProvider">
         <enablement>
            <or>
               <instanceof
                     value="org.jboss.ide.eclipse.archives.ui.providers.ArchivesContentProviderDelegate$WrappedProject">
               </instanceof>
               <instanceof
                     value="org.jboss.ide.eclipse.archives.core.model.IArchiveNode">
               </instanceof>
               <adapt
                     type="java.util.Collection">
                  <count
                        value="0">
                  </count>
               </adapt>
            </or>
         </enablement>
      </actionProvider>
   </extension>
   
</plugin>
