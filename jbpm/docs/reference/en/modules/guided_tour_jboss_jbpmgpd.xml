<?xml version="1.0" encoding="UTF-8"?>
<chapter id="GuidedTourJBossjBPMGPD" xreflabel="GuidedTourJBossjBPMGPD">
	<?dbhtml filename="GuidedTourJBossjBPMGPD.html"?>
	<chapterinfo>
		<keywordset>
			<keyword>jBPM</keyword>
			<keyword>JBoss</keyword>
			<keyword>Process</keyword>
			<keyword>Definition</keyword>
		</keywordset>
	</chapterinfo>
	<title>A Guided Tour of JBoss jBPM GPD</title>
	<para>In this chapter we suggest a step-by-step walk-through of creating and configuring your own
		simple process. Letâ€™s start with organizing a new jBPM project.</para>
	<para>A wizard for creating a jBPM project is included in the GPD plugin. We have opted to
		create a project based on a template already containing a number of advanced artifacts that
		we will ignore for this section. In the future we will elaborate this wizard and offer the
		possibility to create an empty jBPM project as well as projects based on templates taken
		from the jBPM tutorial.</para>
	<section id="CreatingjBPMProject">
		<?dbhtml filename="CreatingjBPMProject.html"?>
		<title>Creating a jBPM Project</title>
		<para>This section will show you how to use the Creation wizard for creating a new jBPM
			project with already included source folders.</para>
		<para>At first you should select <emphasis>
				<property>File &gt;New Project...</property>
			</emphasis> and then <emphasis>
				<property>JBoss jBPM &gt; Process Project</property>
			</emphasis> in the New Project dialog:</para>
		<figure>
			<title>New Project Dialog</title>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/guided_tour_jboss_jbpmgpd/guided_tour1.png"/>
				</imageobject>
			</mediaobject>
		</figure>
		<para> Clicking <emphasis>
				<property>Next</property>
			</emphasis> brings us to the wizard page where we have to specify the name and location
			for the project. We choose for example <emphasis>
				<property>Hello jBPM</property>
			</emphasis> as the name and accept the default location.</para>
		<figure>
			<title>Process Name and Location</title>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/guided_tour_jboss_jbpmgpd/guided_tour2.png"/>
				</imageobject>
			</mediaobject>
		</figure>
		<para>Clicking on <emphasis>
				<property>Finish</property>
			</emphasis> results in the project being created. The wizard creates four source
			folders: one for the processes (<emphasis>
				<property>src/main/jpdl</property>
			</emphasis>), one for the java sources (<emphasis>
				<property>src/main/java</property>
			</emphasis>), one for the unit tests (<emphasis>
				<property>src/test/java</property>
			</emphasis>) and one for the resources such as the jbpm.properties and the
			hibernate.properties files (<emphasis>
				<property>src/main/config</property>
			</emphasis>). In addition a classpath container with all the core jBPM libraries is
			added to the project</para>
		<figure>
			<title>Layout of the Process Project</title>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/guided_tour_jboss_jbpmgpd/guided_tour3.png"/>
				</imageobject>
			</mediaobject>
		</figure>
		<para>Looking inside the different source folders will reveal a number of other artifacts
			that were generated, but we will leave these untouched for the moment. Instead, we will
			look at another wizard that enables us to create an empty process definition.</para>
	</section>
	<section id="creating_an_empty_process_definition">
		<?dbhtml filename="creating_an_empty_process_definition.html"?>
		<title>Creating an Empty Process Definition</title>
		<para>Now when the project is set up, we can use a Creation wizard to create an empty
			process definition. Bring up the <emphasis>
				<property>New</property>
			</emphasis> wizard by clicking the <emphasis>
				<property>File &gt; New &gt; Other...</property>
			</emphasis> menu item. The wizard opens on the <emphasis>
				<property>Select Wizard</property>
			</emphasis> page.</para>
		<figure>
			<title>The Select Wizard Page</title>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/guided_tour_jboss_jbpmgpd/guided_tour4.png"/>
				</imageobject>
			</mediaobject>
		</figure>
		<para>Selecting the <emphasis>
				<property>JBoss jBPM</property>
			</emphasis> category, then the <emphasis>
				<property>Process Definition</property>
			</emphasis> item and clicking on the <emphasis>
				<property>Next</property>
			</emphasis> button brings us to the <emphasis>
				<property>Create Process Definition</property>
			</emphasis> page.</para>
		<figure>
			<title>The Create New Process Definion Page</title>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/guided_tour_jboss_jbpmgpd/guided_tour5.png"/>
				</imageobject>
			</mediaobject>
		</figure>
		<para>We choose <emphasis>
				<property>hello</property>
			</emphasis> as the name of the process archive file. Click on the <emphasis>
				<property>Finish</property>
			</emphasis> button to end the wizard and open the process definition editor.</para>
		<figure>
			<title>The Process Definition Editor</title>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/guided_tour_jboss_jbpmgpd/guided_tour6.png"
						scale="75"/>
				</imageobject>
			</mediaobject>
		</figure>


		<para>You can see in the Package Explorer that creating a process definition involves
			creating a folder with the name of the process definition and populating this folder
			with two .xml files : <emphasis>
				<property>gpd.xml</property>
			</emphasis> and <emphasis>
				<property>processdefinition.xml</property>
			</emphasis>.</para>
		<para>The first of these two contains the graphical information used by the process
			definition editor. The <emphasis>
				<property>processdefinition.xml</property>
			</emphasis> file contains the actual process definition info without the graphical
			rendering info. At present, the GPD assumes that these two files are siblings. More
			sophisticated configuration will be supported later.</para>

		<section id="minimal_process_definition">
			<?dbhtml filename="minimal_process_definition.html"?>
			<title>A Minimal Process Definition</title>
			<para>Now we are ready to create a very simple process definition consisting of a begin
				state, an intermediate state and an end state.</para>
			<para>To make the configuration of actions much easier it&apos;s better to use the
				jPDL perspective. It provides the tabbed Properties Editor which allows to configure
				all the relevant properties of the current selected item. </para>

			<section id="adding_the_nodes">
				<?dbhtml filename="adding_the_nodes.html"?>
				<title>Adding the Nodes</title>
				<para>At first select respectively <emphasis>
						<property>Start</property>
					</emphasis>, <emphasis>
						<property>State</property>
					</emphasis> and <emphasis>
						<property>End</property>
					</emphasis> on the tools palette and click on the canvas to add these nodes to
					the process definition. The result should look similar to this:</para>
				<figure>
					<title>A Simple Process With Three Nodes</title>
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/guided_tour_jboss_jbpmgpd/guided_tour7.png"
								scale="75"/>
						</imageobject>
					</mediaobject>
				</figure>
			</section>
			<section id="adding_transitions">
				<?dbhtml filename="adding_transitions.html"?>
				<title>Adding Transitions</title>
				<para>Then, we will connect the nodes with transitions. To do that select the <emphasis>
						<property>Transition</property>
					</emphasis> tool in the tools palette and click on the <emphasis>
						<property>Start</property>
					</emphasis> node, then move to the <emphasis>
						<property>State</property>
					</emphasis> node and click again to see the transition being drawn. Perform the
					same steps to create a transition from the <emphasis>
						<property>State</property>
					</emphasis> node to the <emphasis>
						<property>End</property>
					</emphasis> node. The result will look like:</para>
				<figure>
					<title>A Simple Process With Transitions</title>
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/guided_tour_jboss_jbpmgpd/guided_tour8.png"
								scale="75"/>
						</imageobject>
					</mediaobject>
				</figure>
			</section>
		</section>
		<para>As the simple process is already defined, we can examine it more carefully. For
			that JBDS provides a number of multiple editors and viewes.</para>
	</section>
	
</chapter>
