<?xml version="1.0" encoding="UTF-8"?>
<chapter id="reference">
    <?dbhtml filename="reference.html"?>
    <chapterinfo>
        <keywordset>
            <keyword>JBoss Tools</keyword>
            <keyword>BPEL</keyword>
            <keyword>JBT</keyword>
        </keywordset>
    </chapterinfo>
    <title>Reference</title>
    <para>This chapter includes detailed reference information about all BPEL tools wizards and editors.</para>
    <section>
        <title>Wizards</title>
        <section>
            <title>New BPEL project Wizard</title>
            <para>This wizard is provided to create a new BPEL project. It is available by selecting <menuchoice><guimenuitem>File</guimenuitem><guimenuitem>New</guimenuitem><guimenuitem>Other</guimenuitem><guimenuitem>BPEL project</guimenuitem></menuchoice>.</para>
            <figure>
                <title>New BPEL Project Wizard</title>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/reference/bpel_ref_1.png"/>
                    </imageobject>
                </mediaobject>
            </figure>
            <para>The wizard consists of two pages:</para>
            <itemizedlist>
                <listitem>
                	<para>On the first page you can adjust the name of the project and the directory where it will be created.</para>
                  <para>
                  	If the <guilabel>Use default location</guilabel> option is checked the output directory will be set to the workspace, otherwise a custom location can be specified by clicking the <guibutton>Browse</guibutton> button.
                  </para>
                    <figure>
                        <title>New BPEL Project Wizard</title>
                        <mediaobject>
                            <imageobject>
                                <imagedata fileref="images/reference/bpel_ref_2.png"/>
                            </imageobject>
                        </mediaobject>
                    </figure>
                </listitem>
                <listitem>
                	<para>On the second page you can specify the name of the <guilabel>Content Folder</guilabel>.</para>                  
                    <figure>
                        <title>New BPEL Project Wizard</title>
                        <mediaobject>
                            <imageobject>
                                <imagedata fileref="images/reference/bpel_ref_2a.png"/>
                            </imageobject>
                        </mediaobject>
                    </figure>
                </listitem>
            </itemizedlist>
        </section>
        <section>
            <title>Apache ODE Deployment Descriptor Wizard</title>
            <para>This wizard can be used to create an ODE deployment descriptor (<filename>deploy.xml</filename>) file and place it in the temporary directory. It is available by selecting <menuchoice><guimenuitem>File</guimenuitem><guimenuitem>New</guimenuitem><guimenuitem>Other</guimenuitem><guimenuitem>Apache ODE Deployment Descriptor Wizard</guimenuitem></menuchoice>.</para>
            <figure>
                <title>New BPEL Project Wizard</title>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/deploy_createdeploy_2.png"/>
                    </imageobject>
                </mediaobject>
            </figure>
            <para>
            		On this page you can adjust the name of the deployment descriptor and the directory where it will be created. Note that you should use <filename>/PROJECT_NAME/bpelContent</filename> directory for the output.
            </para>
                                   
        </section>
        <section>
            <title>New BPEL Process file Wizard</title>
            <para>Using the <guilabel>New BPEL Process file Wizard</guilabel> it is possible to create a BPEL process file and a WSDL file.
            The wizard includes several pages:</para>
            <itemizedlist>
                <listitem><para>The first page includes the following options:</para>
                    <table>
                        <title>New BPEL Process file Wizard. First Page Options.</title>   
                        <tgroup cols="3">
                            <colspec colnum="1" align="left" colwidth="1*"/>
                            <colspec colnum="2" align="left" colwidth="3*"/>
                            <colspec colnum="3" align="left" colwidth="1*"/>
                            <thead>
                                <row>
                                    <entry>Option</entry>									
                                    <entry>Description</entry>
                                    <entry>Default</entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>Name</entry>
                                    <entry>Enter the process name.</entry>
                                    <entry>no default value</entry>
                                </row>     
                                <row>
                                    <entry>Namespace</entry>
                                    <entry>Enter the namespace url here</entry>
                                    <entry>no default value</entry>
                                </row> 
                                <row>
                                    <entry>Template</entry>
                                    <entry>Select one of the provided templates: 
                                        <itemizedlist>
                                            <listitem><para><emphasis>Asynchronous BPEL Process</emphasis>  - 
                                                generates the basis of orchestration logic:  receive and reply activities
                                                are included into the process; client WSDL is generated, 
                                                service is defined in the <property>parentlink</property> of the process.
                                                The caller is notified asynchronously when the process completes.
                                            </para></listitem>
                                            <listitem><para><emphasis>Empty BPEL Process</emphasis>  - list of services participating in this BPEL process together
                                                with the one of messages used within the process is empty.There are no any orchestration logic.</para></listitem>
                                            <listitem><para><emphasis>Synchronous BPEL Process</emphasis>  - 
                                                similar to Asynchronous BPEL Process template except the fact that here
                                                the caller is notified synchronously when the process completes.</para></listitem>
                                        </itemizedlist></entry>
                                    <entry>Asynchronous BPEL Process</entry>
                                </row>
                                <row>
                                    <entry>Abstract Process</entry>
                                    <entry>Specifies the created process as an abstract one -partially
                                        specified processes that are not intended to be executed.</entry>
                                    <entry>unchecked</entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </table>  
                    <figure>
                        <title>New BPEL Process file Wizard</title>
                        <mediaobject>
                            <imageobject>
                                <imagedata fileref="images/reference/bpel_ref_3.png"/>
                            </imageobject>
                        </mediaobject>
                    </figure>
                    
                </listitem>
                <listitem><para>The second page include the following options:</para>
                    <table>
                        <title>New BPEL Process file Wizard. Second Page Options.</title>   
                        <tgroup cols="3">
                            <colspec align="left" colnum="1" colwidth="1*"></colspec>
                            <colspec align="left" colnum="2" colwidth="3*"></colspec>
                            <colspec align="left" colnum="3" colwidth="1*"></colspec>
                            <thead>
                                <row>
                                    <entry>Option</entry>
                                    <entry>Description</entry>
                                    <entry>Default</entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>Service Name</entry>
                                    <entry>Enter a WDSL service name for the BPEL process.</entry>
                                    <entry>The process name</entry>
                                </row>                                                                      
                                <row>
                                    <entry>Port Name</entry>
                                    <entry>Enter a WDSL port name for the BPEL process.</entry>
                                    <entry>The process name + 'Port'</entry>
                                </row> 
                                <row>
                                    <entry>Service Address</entry>
                                    <entry>Enter an address of the WDSL service for the BPEL process.</entry>
                                    <entry>http://localhost:8080/ + process name </entry>
                                </row>

                                <row>
                                    <entry>Binding Protocol</entry>
                                    <entry>Choose the binding protocol that you use in the WDSL: SOAP or HTTP</entry>
                                    <entry>SOAP</entry>
                                </row>                                
                            </tbody>
                        </tgroup>
                    </table>  
                    <figure float="0">
                        <title>New BPEL Process file Wizard</title>
                        <mediaobject>
                            <imageobject>
                                <imagedata fileref="images/reference/bpel_ref_3a.png"></imagedata>
                            </imageobject>
                        </mediaobject>
                    </figure>
                </listitem>             
                <listitem><para>On the third page the user should select the BPEL project and folder where the process file will be created:</para>
                <figure>
                    <title>New BPEL Process file Wizard</title>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/reference/bpel_ref_4.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>
                </listitem>
            </itemizedlist>
            <note>
                <para>Process files that are used in the BPEL project must be under the <filename>bpelContent</filename> folder. This is necessary for the files to be deployed to a JBoss server.
                </para>
            </note>
        </section>
    </section>
    <section>
        <title>Editors</title>
        <section>
            <title>Business Process Editor</title>
            <para>
	            	The Business Process Editor is intended to facilitate the process of changing and adding new logic to a BPEL process file. You can open <filename>.bpel</filename> files in this editor by right click the file in the <guilabel>Project Explorer</guilabel> and selecting <menuchoice><guimenuitem>Open With...</guimenuitem><guimenuitem>Business Process Editor</guimenuitem></menuchoice>.
            </para>
            <figure>
                <title>Business Process Editor</title>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/reference/bpel_ref_5.png"/>
                    </imageobject>
                </mediaobject>
            </figure>
            <para>The editor consists of two tabs: the <guilabel>Design</guilabel> tab and the <guilabel>Source</guilabel> tab.</para>
       <section>
           <title>Design tab</title>
           <para>The <guilabel>Design</guilabel> tab is the main part of the <guilabel>Business Process Editor</guilabel>. It consists of 3 parts:</para>
           <itemizedlist>
               <listitem><para>Visual Pane:</para>
                   <figure>
                       <title>Visual Pane of Business Process Editor</title>
                       <mediaobject>
                           <imageobject>
                               <imagedata fileref="images/reference/bpel_ref_6.png"/>
                           </imageobject>
                       </mediaobject>
                   </figure>
                   <para>The Visual Pane provides a graphical representation of the order in which the activities are executed.</para>
               </listitem>
               <listitem><para>Palette:</para>
                   <figure>
                       <title>Palette of Business Process Editor</title>
                       <mediaobject>
                           <imageobject>
                               <imagedata fileref="images/reference/bpel_ref_7.png"/>
                           </imageobject>
                       </mediaobject>
                   </figure>
                   <para>
                   	The <guilabel>Palette</guilabel> view represents the different BPEL activities elements organized into functional categories. Using it the developer can easily add new elements to the sequence activity. To do this, click the required element and then drag and drop it to the place on the Visual Pane.
                   </para>
               </listitem>
               <listitem><para>Behavior Components View:</para>
                  <figure>
                      <title>Behavior Components View of Business Process Editor</title>
                       <mediaobject>
                           <imageobject>
                               <imagedata fileref="images/reference/bpel_ref_8.png"/>
                           </imageobject>
                       </mediaobject>
                  </figure>
                   <para>
                   	Execution behavior components are grouped into the <guilabel>Behavior Components</guilabel> view. This view is also fully synchronized with <guilabel>Properties</guilabel> view where you can customize all the properties of the component.
                   </para>
                   <figure>
                       <title>Process Structure View of Business Process Editor</title>
                       <mediaobject>
                           <imageobject>
                               <imagedata fileref="images/reference/bpel_ref_9.png"/>
                           </imageobject>
                       </mediaobject>
                   </figure>                  
                   <para>To add an element to a component group click the plus (<inlinemediaobject>
                       <imageobject>
                           <imagedata fileref="images/reference/bpel_ref_10.png"/>
                       </imageobject>
                   </inlinemediaobject>) icon, and to delete it click the element and use select the <guilabel>Delete</guilabel> option in the popup menu.</para>  
               </listitem>
             
           </itemizedlist>
           
           
       </section>
            <section>
                <title>Source tab</title>
                <para>The <guilabel>Source</guilabel> tab can be used for directly editing BPEL process files. It is also possible to validate the file structure.
                 </para>
                <figure>
                    <title>Validation error in Source tab</title>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/reference/bpel_ref_11.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>
                <para>Validation can be enabled or disabled by selecting <menuchoice><guimenuitem>Window</guimenuitem><guimenuitem>Preferences</guimenuitem><guimenuitem>Validation</guimenuitem></menuchoice>.</para>
                <figure>
                    <title>Validation configuration</title>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/reference/bpel_ref_12.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>     
            </section>
       </section>
      <section>
          <title>ODE Deployment Descriptor Editor</title>
          <para>To deploy your process in ODE you need to create a simple deployment descriptor with basic information, using the <property>ODE Deployment Descriptor Editor</property> to facilitate the process of descriptor configuration. You can see how the descriptor file looks when it is opened in the editor in the image below:
          </para>
          <figure>
              <title>ODE Deployment Descriptor Editor</title>
              <mediaobject>
                  <imageobject>
                      <imagedata fileref="images/reference/bpel_ref_13.png"/>
                  </imageobject>
              </mediaobject>
          </figure> 
          <para>The table below describes the configuration options of the ODE Deployment Descriptor Editor:</para>
          <table>
              <title>ODE Deployment Descriptor Editor.Options.</title>   
              <tgroup cols="3">
                  <colspec colnum="1" align="left" colwidth="1*"/>
                  <colspec colnum="2" align="left" colwidth="3*"/>
                  <colspec colnum="3" align="left" colwidth="1*"/>
                  
                  <thead>
                      <row>
                          <entry>Section</entry>									
                          <entry>Options</entry>
                          <entry>Description</entry>
                      </row>
                  </thead>
                  <tbody>
                      <row>
                          <entry morerows='1' valign='middle'><para> 
                              General</para></entry>
                          
                          <entry>This process is</entry>
                          <entry>Select one of the provided options: 
                              <itemizedlist>
                                  <listitem>
                                      <para><emphasis>activated</emphasis> 
                                      </para>
                                  </listitem>
                                  <listitem>
                                      <para><emphasis>deactivated</emphasis></para>
                                  </listitem>
                                  <listitem>
                                      <para><emphasis>retired</emphasis> 
                                      </para>
                                  </listitem>
                              </itemizedlist></entry>
                          
                      </row> 
                      <row><entry>Run this process in memory</entry>
                          <entry>for performance purposes, you can define the process as being executed only in-memory.</entry>
                      </row>
                      
                      <row>
                          <entry>Inbound Interfaces(Services)</entry>
                          <entry>Associated Port</entry>
                          <entry>Click Associated Port and the dropdown list with all available port names will appear. Select the one you need, and the other fields will be filled automatically. This action configure the services provided by the process and binds each service to an endpoint
                          </entry>
                          
                      </row> 
                      
                      <row>
                          <entry>Outbound Interfaces(Invokes)</entry>
                          <entry>Associated Port</entry>
                          <entry>Click Associated Port and the dropdown list with all available port names will appear. Select the one you need, and the other fields will be filled automatically. This action configure the services invoked by the process</entry>
                      </row>
                      <row>
                          <entry>Process-level Monitoring Events</entry>
                          <entry>  <itemizedlist>
                              <listitem><para>
                                  <emphasis>None</emphasis>
                              </para></listitem>
                              <listitem>
                              <para>
                                  <emphasis>All</emphasis>
                              </para>
                              </listitem>
                              <listitem>
                              <para>
                                  <emphasis>Selected</emphasis>:
                              </para>
                                  <itemizedlist>
                                      <listitem><para>Instance life cycle</para></listitem>
                                      <listitem><para>Activity life cycle</para></listitem>
                                      <listitem><para>Data handling</para></listitem>
                                      <listitem><para>Scope handling</para></listitem>
                                      <listitem><para>Correlation</para></listitem>
                                      
                                  </itemizedlist>
                                  
                              </listitem>
                          </itemizedlist>
                          </entry>
                          <entry>Using ODE's deployment descriptor, it's also possible to make events generation to filter which ones get created.
                              All the options simply revert to the default behavior when nothing is specified in the deployment.</entry>
                      </row>
                      <row>
                          <entry>Scope-level Monitoring Events</entry>
                          <entry>Scope</entry>
                          <entry>This section makes it possible to define filtering for each scope of your process.
                              </entry>
                      </row>
                  </tbody>
              </tgroup>
          </table>
      </section>
        
    </section>
    
    
</chapter>

