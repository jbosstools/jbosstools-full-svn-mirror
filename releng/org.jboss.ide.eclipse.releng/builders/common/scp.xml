<project>
	<!-- The REAL version 
	<macrodef name="scp.fileset.trusted">
		<attribute name="todir" default=""/>
		<attribute name="relative" default="true"/>
		<element name="files-to-scp" implicit="true"/>
		<sequential>
			<if>
				<equals arg1="@{relative}" arg2="true"/>
				<then>
					<property name="directory" value="${scp.basedir}/@{todir}"/>
				</then>
				<else>
					<property name="directory" value="@{todir}"/>
				</else>
			</if>
			<scp
				trust="yes"
				todir="${ssh.username}@${ssh.host}:${directory}"
				keyfile="${ssh.key}"
				passphrase="${ssh.passphrase}">
				
				<files-to-scp/>
			</scp>
		</sequential>
	</macrodef>
	-->
	
	<!-- The "local copy" (debug) version -->
	<macrodef name="scp.fileset.trusted">
		<attribute name="todir" default=""/>
		<attribute name="relative" default="true"/>
		<element name="files-to-scp" implicit="true"/>
		<sequential>
			<property name="directory" value="${product.build.root}/scp/@{todir}"/>
			<copy todir="${directory}">
				<files-to-scp/>
			</copy>
		</sequential>
	</macrodef>
	
</project>