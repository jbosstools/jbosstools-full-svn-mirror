<?xml version='1.0' encoding='UTF-8'?>
<chapter id="seam_refactoring" xreflabel="seam_refactoring">
    <?dbhtml filename="seam_refactoring.html"?>
    <chapterinfo>
        <keywordset>
            <keyword>Seam refactoring tools
            </keyword>
            <keyword>seam</keyword>
            <keyword>rename</keyword>
        </keywordset>
    </chapterinfo>
    <title>Seam refactoring tools</title>
    <para>The goal of Seam components refactoring is to make system-wide code changes without affecting the behavior of the program.
        The  Seam  module of JBoss Tools provides assistance in easily refactoring code.
        When performing a refactoring operation, you can  preview all of the changes resulting from a refactoring action before you choose to carry them out.
        Refactoring commands are available from the context menus of several views and editors.
        Now Seam refactoring tools include only one refactoring command:<emphasis><property>Rename Seam Component</property></emphasis>. 
    </para>
    <para>The command is available from the next views:</para>
    <itemizedlist>
        <listitem>
            <para> <link linkend="JavaEditor">Java Editor</link>
             </para>
        </listitem>
        <listitem>
            <para>
                <link linkend="SeamComponents">Seam Components</link>
            </para>
        </listitem>
        <listitem>
            <para><link linkend="xml_html">JBossTools XML Editor, other xml/html editors
                
            </link>
            </para>
        </listitem>
        <listitem>
            <para><link linkend="properties">JBossTools Properties Editor
                
            </link>
            </para>
        </listitem>
    </itemizedlist>
    <para>Renaming the selected seam component also (if enabled) corrects all references to the 
        component(also in other files in the project).Renaming a type doesn't  allow to rename
        similarly named variables and methods.
    </para> 
    <section id="RefactornigWizard">
        <?dbhtml filename="RefactornigWizard.html"?>
        <title>Refactorinig wizard
        </title>
        <para>This wizard is opened always when the user clicks <property>Rename Seam Component</property>/<property>Rename Seam Context Variable</property>/<property>Rename</property> command in any 
            of the mentioned views.
         </para>
        
        <figure>
            <title>Refactoring wizard</title>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/seam_refactoring/seam_refactor2.png"/>
                </imageobject>
            </mediaobject>
        </figure>
        <para>In the <property>Seam Components Field</property> you should write a new name of the component,
            click <property>Next</property> and follow the next wizard steps:
        </para>
        <figure>
            <title>Navigating between the differences</title>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/seam_refactoring/seam_refactor3.png"/>
                </imageobject>
            </mediaobject>
        </figure>
        <para>The view represents two windows: one with the source code and the second with refactored one. With the help of
            <inlinemediaobject>  <imageobject>
                <imagedata fileref="images/seam_refactoring/butt1.png"/>
            </imageobject></inlinemediaobject>,
            <inlinemediaobject>  <imageobject>
                <imagedata fileref="images/seam_refactoring/butt2.png"/>
            </imageobject></inlinemediaobject>,
            <inlinemediaobject>  <imageobject>
                <imagedata fileref="images/seam_refactoring/butt3.png"/>
            </imageobject></inlinemediaobject>,
            <inlinemediaobject>  <imageobject>
                <imagedata fileref="images/seam_refactoring/butt4.png"/>
            </imageobject></inlinemediaobject> buttons you can quickly navigate between the differences in the code.
            If you don't agree with some changes you can't undo them but you can remove the class from the list of classes that need refactoring. 
        </para>
        <figure>
            <title>List of classes that need refactoring
            </title>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/seam_refactoring/seam_refactor4.png"/>
                </imageobject>
            </mediaobject>
        </figure>
        <para>To apply the changes click <emphasis><property>Finish</property></emphasis>.
        </para>
    </section>
    
    <section>
        <title>Opening Refactoring wizard in different views</title>
        <para>Seam component can be renamed only if it's not marked as <emphasis><property>Read only</property></emphasis> in properties for the java file where it's declared. 
        </para>
        <figure>
            <title>Properties view for java file
            </title>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/seam_refactoring/seam_refactor10.png"/>
                </imageobject>
            </mediaobject>
        </figure>
    <section id="JavaEditor">
        <?dbhtml filename="JavaEditor.html"?>
        <title>Opening Refactoring wizard in Java Editor</title>
        <para>If you want to rename certain seam component using Java Editor,first of all it's necessary to open it. 
            If you don't know ,where the seam component is declared,use <link linkend="open_seam_component">Open Seam Components icon</link>.
            
        </para>
        <para>To open the rename Seam Component  command in Java Editor it's necessary to left click the file  <emphasis><property>>Seam Refactor>Rename Seam Component</property></emphasis>.
        </para>
        <figure>
            <title>Opening Refactoring wizard in Java Editor</title>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/seam_refactoring/seam_refactor1.png"/>
                </imageobject>
            </mediaobject>
        </figure>
    </section>
    <section id="SeamComponents">
      <title>Opening Refactoring wizard in Seam Components view</title>
        <para>To open <property>Refactoring wizard</property> in  <property>Seam Components</property> view the user should left click the component he wants to open and choose <property>Rename Seam Component</property> option.</para>
        <figure>
            <title>Opening Refactoring wizard in Seam Components view</title>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/seam_refactoring/seam_refactor5.png"/>
                </imageobject>
            </mediaobject>
        </figure>
    </section>
        <section id="xml_html">
        <title>Opening Refactoring wizard in JBossTools XML Editor, other xml/html editors
        </title>
        <para>When you open <property>components.xml</property> file using JBossTools XML Editor,it's possible to open the <property>Refactoring dialog</property> in two ways:</para>
        <itemizedlist>
            <listitem>
                <para>in the Tree tab.You should left click the component in <property>components</property> section and choose <property>Rename</property> option. 
                </para>
                <figure>
                    <title>Opening Refactoring wizard in <emphasis><property>components.xml</property></emphasis> file</title>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/seam_refactoring/seam_refactor6.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>
            </listitem>
            <listitem>
                <para>
                    in the Source tab.To do this, select the component name in the file,open context menu by left click and choose <property>Seam Refactor> Rename Seam Context Variable</property>
                .</para>
                <figure>
                    <title>Opening Refactoring wizard in components.xml file</title>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/seam_refactoring/seam_refactor7.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>
                <para>This method of <property>Refactoring wizard</property> opening is also available in other xml/html editors.</para>
                <figure>
                    <title>Opening Refactoring wizard in .html file</title>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/seam_refactoring/seam_refactor8.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>
            </listitem>
        </itemizedlist>
      </section>
        <section id="properties">
        <title>Opening Refactoring wizard in .properties files
        </title>
        <para>You can also open seam components in .properties files by selecting
            the component name in the file and choose <property>Seam Refactor> Rename Seam Context Variable</property> from the context menu.</para>
        <figure>
            <title>Opening Refactoring wizard in .properties files</title>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/seam_refactoring/seam_refactor9.png"/>
                </imageobject>
            </mediaobject>
        </figure>
       </section>
    </section>
</chapter>


