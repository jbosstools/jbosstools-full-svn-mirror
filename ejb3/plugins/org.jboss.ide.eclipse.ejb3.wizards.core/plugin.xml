<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

     <extension
         id="EJB3ProjectNature"
         name="EJB3 Project Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run class="org.jboss.ide.eclipse.ejb3.core.project.EJB3ProjectNature"/>
      </runtime>
   </extension>


  <!-- Project Facets -->
<extension point="org.eclipse.wst.common.project.facet.core.facets">

    <project-facet id="jboss.ejb30" version="1.0">
      <label>JBIDE EJB30</label>
      <description>JBIDE EJB30 DESCRIPTION</description>
      <icon></icon>
    </project-facet>

    <project-facet-version facet="jboss.ejb30" version="1.0">
      <constraint>
        <and>
          <requires facet="jst.java" version="[5.0"/>
          <conflicts group="modules"/>
        </and>
      </constraint>
      <group-member id="modules"/>
    </project-facet-version>

    <action facet="jboss.ejb30" version="1.0" type="INSTALL" id="jboss.ejb30.install">
      <delegate class="org.jboss.ide.eclipse.ejb3.core.facet.Ejb30FacetInstallDelegate"/>
      <config-factory class="org.jboss.ide.eclipse.ejb3.core.facet.Ejb30FacetInstallDataModelProvider"/>
    </action>

    <event-handler facet="jboss.ejb30" version="1.0" type="POST_INSTALL">
      <delegate class="org.jboss.ide.eclipse.ejb3.core.facet.Ejb30FacetPostInstallDelegate"/>
    </event-handler>

    <template id="template.jboss.ejb30">
      <label>jboss.ejb30 Template</label>
      <fixed facet="jst.java"/>
      <fixed facet="jboss.ejb30"/>
    </template>
</extension>


<extension point="org.eclipse.wst.common.project.facet.core.runtimes">
  <runtime-component-type id="org.jboss.ide.eclipse.ejb30.component.10"/>
  <runtime-component-version
            type="org.jboss.ide.eclipse.ejb30.component.10"
            version="1.0"/>

  <supported>
    <runtime-component id="org.jboss.ide.eclipse.ejb30.component.10" version="1.0"/>
    <facet id="jboss.ejb30" version="1.0"/>
    <facet id="jst.java" version="5.0"/>
  </supported>
  <!--
  <adapter>
      <runtime-component
            id="org.jboss.ide.eclipse.ejb30.component.10"
            version="1.0"/>
      <factory
         class="org.jboss.ide.eclipse.ejb3.core.facet.ProjectRuntimeClasspathProvider$Factory"/>
      <type
         class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
    </adapter>
    -->
</extension>



   <extension
         point="org.eclipse.jdt.core.classpathContainerInitializer">
      <classpathContainerInitializer
            class="org.jboss.ide.eclipse.ejb3.core.classpath.EJB3ClasspathContainerInitializer"
            id="org.jboss.ide.eclipse.jdt.ejb3.wizards.core.classpath.EJB3_CONTAINER"/>
      <classpathContainerInitializer
            class="org.jboss.ide.eclipse.ejb3.core.classpath.EJB3ClasspathContainerInitializer"
            id="org.jboss.ide.eclipse.jdt.ejb3.wizards.core.classpath.AOP15_CONTAINER"/>
   </extension>

   <extension
         point="org.eclipse.wst.server.core.moduleFactories">
         
      <moduleFactory
            class="org.jboss.ide.eclipse.ejb3.core.module.Ejb30ModuleFactory"
            id="org.jboss.ide.eclipse.ejb3.core.ejb3Factory"
            order="5"
            projects="true">
            <moduleType
         		versions="1.0"
         		types="jboss.ejb30">
            </moduleType>
      </moduleFactory>
   </extension>


   <extension
         point="org.eclipse.jst.server.core.runtimeFacetMappings">
      <runtimeFacetMapping
            runtime-component="org.jboss.ide.eclipse.ejb30.component.10"
            runtimeTypeId="org.jboss.ide.eclipse.as.runtime.40"
            version="1.0"/>
   </extension>



</plugin>
