<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>

   <extension-point 
   		id="jbossModuleFactory" name="org.jboss.ide.eclipse.as.core.jbossModuleFactory" 
   		schema="schema/jbossModuleFactory.exsd"/>
   		
   		
   		
   <extension
         point="org.eclipse.wst.server.core.serverTypes">
      <serverType
            behaviourClass="org.jboss.ide.eclipse.as.core.server.JBossServerBehavior"
            class="org.jboss.ide.eclipse.as.core.server.JBossServer"
            description="%jboss.version.32.description"
            hasConfiguration="true"
            id="org.jboss.ide.eclipse.as.32"
            initialState="stopped"
            launchConfigId="org.jboss.ide.eclipse.as.core.jbossLaunch"
            launchModes="run,debug"
            name="%jboss.version.32.name"
            runtime="true"
            runtimeTypeId="org.jboss.ide.eclipse.as.runtime.32"
            startBeforePublish="false"
            startTimeout="450000"
            stopTimeout="450000" 
            supportsRemoteHosts="false"/>
              
      <serverType
            behaviourClass="org.jboss.ide.eclipse.as.core.server.JBossServerBehavior"
            class="org.jboss.ide.eclipse.as.core.server.JBossServer"
            description="%jboss.version.40.description"
            hasConfiguration="true"
            id="org.jboss.ide.eclipse.as.40"
            initialState="stopped"
            launchConfigId="org.jboss.ide.eclipse.as.core.jbossLaunch"
            launchModes="run,debug"
            name="%jboss.version.40.name"
            runtime="true"
            runtimeTypeId="org.jboss.ide.eclipse.as.runtime.40"
            startBeforePublish="false"
            startTimeout="450000"
            stopTimeout="450000"
            supportsRemoteHosts="false"/>
   </extension>

   <extension
         point="org.eclipse.wst.server.core.runtimeTypes">
      <runtimeType
            vendor="%providerName"
            class="org.jboss.ide.eclipse.as.core.server.runtime.JBossServerRuntime"
            description="%jboss.version.32.description"
            name="JBoss 3.2 Server Adapter Runtime"
            id="org.jboss.ide.eclipse.as.runtime.32"
            version="%jboss.version.32.version">
          <moduleType
                types="jst.web"
                versions="2.2, 2.3, 2.4"/>
          <moduleType
                types="jst.ejb"
                versions="1.0, 1.1, 2.0, 2.1"/>
          <moduleType
                types="jst.ear"
                versions="1.2, 1.3, 1.4"/>
          <moduleType
                types="jboss.archive"
                versions="1.0"/>
               
      </runtimeType>
       <runtimeType
             vendor="%providerName"
             class="org.jboss.ide.eclipse.as.core.server.runtime.JBossServerRuntime"
             description="%jboss.version.40.description"
             name="JBoss 4.0 Server Adapter Runtime"
             id="org.jboss.ide.eclipse.as.runtime.40"
             version="%jboss.version.40.version">
          <moduleType
                types="jst.web"
                versions="2.2, 2.3, 2.4"/>
          <moduleType
                types="jst.ejb"
                versions="1.0, 1.1, 2.0, 2.1"/>
          <moduleType
                types="jst.ear"
                versions="1.2, 1.3, 1.4"/>
          <moduleType
                types="jboss.archive"
                versions="1.0"/>
      </runtimeType>
   </extension>
   <extension
         point="org.eclipse.debug.core.launchConfigurationTypes">
      <launchConfigurationType
            category="JBoss"
            delegate="org.jboss.ide.eclipse.as.core.server.JBossLaunchConfigurationDelegate"
            id="org.jboss.ide.eclipse.as.core.jbossLaunch"
            modes="run,debug"
            name="JBoss Application Server"
            public="true"
            sourceLocatorId="org.eclipse.jdt.launching.sourceLocator.JavaSourceLookupDirector"/>
   </extension>
   <extension
         point="org.eclipse.wst.server.core.moduleArtifactAdapters">
      <moduleArtifactAdapter
            class="org.jboss.ide.eclipse.as.core.module.artifact.JBossModuleArtifactAdapter"
            id="org.jboss.ide.eclipse.as.core.artifactAdapter"
            priority="20">
         <enablement>
            <instanceof value="org.eclipse.core.resources.IResource"/>
         </enablement>
      </moduleArtifactAdapter>
   </extension>
   <extension
         point="org.eclipse.wst.server.core.moduleFactories">
         
         <!--
      <moduleFactory
            class="org.jboss.ide.eclipse.as.core.module.factory.AopModuleFactory"
            id="org.jboss.ide.eclipse.as.core.factory.aopFactory"
            order="2"
            projects="false"/>
      <moduleFactory
            class="org.jboss.ide.eclipse.as.core.module.factory.EjbModuleFactory"
            id="org.jboss.ide.eclipse.as.core.factory.ejbFactory"
            order="2"
            projects="false"/>
      <moduleFactory
            class="org.jboss.ide.eclipse.as.core.module.factory.WarModuleFactory"
            id="org.jboss.ide.eclipse.as.core.factory.warFactory"
            order="2"
            projects="false"/>
      <moduleFactory
            class="org.jboss.ide.eclipse.as.core.module.factory.EarModuleFactory"
            id="org.jboss.ide.eclipse.as.core.factory.earFactory"
            order="2"
            projects="false"/>
            
            -->
      <moduleFactory
            class="org.jboss.ide.eclipse.as.core.module.factory.ArchiveModuleFactory"
            id="org.jboss.ide.eclipse.as.core.ArchiveDeployer"
            order="2"
            projects="false"/>
   </extension>
   <extension
         point="org.eclipse.wst.server.core.moduleTypes">

      <moduleType id="jboss.aop"  name="Pre-Packaged AOP Module"/>
      <moduleType
            id="jboss.ejb"
            name="Pre-Packaged EJB archive"/>
      <moduleType
            id="jboss.web"
            name="Pre-Packaged Web archive"/>
      <moduleType
            id="jboss.ear"
            name="Pre-Packaged EAR archive"/>

   </extension>
   <extension
         point="org.eclipse.wst.server.core.launchableAdapters">
      <launchableAdapter
            class="org.jboss.ide.eclipse.as.core.launch.adapters.JBossLaunchAdapter"
            id="org.jboss.ide.eclipse.as.core.launchableAdapter1"/>
   </extension>
   <extension
         point="org.eclipse.wst.server.core.clients">
      <client
            class="org.jboss.ide.eclipse.as.core.client.DoNothingClient"
            description="No action is taken."
            id="org.jboss.ide.eclipse.as.core.client.DoNothingClient"
            name="Take No Action"
            priority="20"/> 
      <client 
            class="org.jboss.ide.eclipse.as.core.client.VerifyPublishClient"
            description="Verify that your archive was successfully deployed to, and loaded by, the server."
            id="org.jboss.ide.eclipse.as.core.verifyClient"
            name="Verify Publish"
            priority="20"/>
   </extension>
   <extension
         point="org.jboss.ide.eclipse.as.core.jbossModuleFactory">
<!--      <factory id="org.jboss.ide.eclipse.as.core.factory.aopFactory"/>
      <factory id="org.jboss.ide.eclipse.as.core.factory.ejbFactory"/>
      <factory id="org.jboss.ide.eclipse.as.core.factory.warFactory"/>
      <factory id="org.jboss.ide.eclipse.as.core.factory.earFactory"/> -->
      <factory id="org.jboss.ide.eclipse.as.core.ArchiveDeployer"/>
   </extension>
   <extension
         point="org.eclipse.jst.server.core.runtimeFacetMappings">
      <runtimeFacetMapping
            runtime-component="org.jboss.ide.eclipse.as.runtime.dynwebproject.component"
            runtimeTypeId="org.jboss.ide.eclipse.as.runtime.40"
            version="1.0"/>
      <runtimeFacetMapping
            runtime-component="org.jboss.ide.eclipse.as.runtime.dynwebproject.component"
            runtimeTypeId="org.jboss.ide.eclipse.as.runtime.32"
            version="1.0"/>
   </extension>
   <extension
         point="org.eclipse.wst.common.project.facet.core.runtimes">
      <runtime-component-type id="org.jboss.ide.eclipse.as.runtime.dynwebproject.component"/>
      <runtime-component-version
            type="org.jboss.ide.eclipse.as.runtime.dynwebproject.component"
            version="1.0"/>
      <supported>
        <runtime-component
         id="org.jboss.ide.eclipse.as.runtime.dynwebproject.component"
         version="1.0"/>
       <facet
         id="jst.web"
         version="2.2,2.3,2.4"/>
       <facet id="jst.java" version="1.3,1.4,5.0,6.0"/>  
       <facet
         id="jst.utility"
         version="1.0"/>
       <facet
             id="jst.ejb"
             version="2.0,2.1"/>
       <facet
             id="jst.ear"
             version="1.2,1.3,1.4"/>
       <facet
             id="jst.appclient"
             version="1.2,1.3,1.4"/>
     </supported>
     <adapter>
      <runtime-component
         id="org.jboss.ide.eclipse.as.runtime.dynwebproject.component"/>
      <factory
         class="org.jboss.ide.eclipse.as.core.server.runtime.ProjectRuntimeClasspathProvider$Factory"/>
      <type
         class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
    </adapter>
     
   </extension>
   <extension
         point="org.eclipse.jdt.core.classpathContainerInitializer">
      <classpathContainerInitializer
            class="org.jboss.ide.eclipse.as.core.runtime.WebtoolsProjectJBossClasspathContainerInitializer"
            id="org.jboss.ide.eclipse.as.core.runtime.ProjectInitializer"/>
   </extension>

   <extension point="org.eclipse.jst.server.core.runtimeClasspathProviders">
     <runtimeClasspathProvider
        id="org.jboss.ide.eclipse.as.core.server.runtime.runtimeTarget"
        runtimeTypeIds="org.jboss.ide.eclipse.as.runtime.32, org.jboss.ide.eclipse.as.runtime.40"
        class="org.jboss.ide.eclipse.as.core.server.runtime.ProjectRuntimeClasspathProvider"/>
   </extension>
   
</plugin>
