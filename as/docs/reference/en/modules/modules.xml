<?xml version="1.0" encoding="ISO-8859-1"?>
<chapter id="modules">
  <title>Deploying Modules</title>

  <para>
	  Deploying to a server is mostly painless.
	  There are several ways to do it provided by Webtools, 
	  and some additional methods provided by JBoss Tools. </para>
  <section><title>WTP Projects</title>
	  <section><title>Run On Server</title>
	  <para>
		  The first WTP method is to right-click on a webtools project,
		  such as a dynamic web project, ejb project, or ear project
		  and then selecting <emphasis><property>Run As &gt; Run on Server</property></emphasis>.
		  The resulting dialog allows you to select which supporting
		  server the project can be published to. </para>
	  	<figure>
	  		<title>Define a New Server</title>
	  		<mediaobject> 
	  			<imageobject>
	  				<imagedata fileref="images/modules/modules_1.png"/>
	  			</imageobject>
	  		</mediaobject>
	  	</figure>
	  	<para>Click <emphasis><property>Next</property></emphasis> button to see add or remove projects page where you can choose propjects to configure them on server.</para>
	  	<figure>
	  		<title>Add or Remove Projects</title>
	  		<mediaobject> 
	  			<imageobject>
	  				<imagedata fileref="images/modules/modules_2.png"/>
	  			</imageobject>
	  		</mediaobject>
	  	</figure>
	  	<para>
		  For the JBoss AS Server Adapters, publishing using this method
		  will force a default, best-guess, packaging configuration 
		  for your project. This best-guess does <emphasis>not</emphasis>
		  publish incrementally, but instead repackages your entire
		  project into a .war, .jar, or .ear as appropriate, and 
		  then copies that file into the proper deploy directory.
		  For quicker smarter deployment, you will need to create
		  archives using the <emphasis>Project Archives</emphasis>
		  view and customize packaging yourself.</para>
  	  </section>
	  <section><title>Add and Remove Projects</title>
	  <para>
	  Another method is in either the Servers View, or the JBoss
	  Servers View, to right click on a server and select
	  the <emphasis><property>Add and Remove Projects</property></emphasis> menu item.
	  This will bring up a dialog allowing you to either publish
	  projects or modules to a server, or remove them from the server.</para>
	  	<figure>
	  		<title>Add and Remove Projects</title>
	  		<mediaobject> 
	  			<imageobject>
	  				<imagedata fileref="images/modules/modules_3.png"/>
	  			</imageobject>
	  		</mediaobject>
	  	</figure>

	  <para>
		  If the selected module is a webtools project, 
		  it will be published as in the <emphasis><property>Run on Server</property></emphasis>
		  option, with a best-guess full package. If, however, the selected
		  element is an archive from the <emphasis>Project Archives View</emphasis>,
		  it will be published according to the rules of that module type.</para>
          </section>
	  <section><title>JBoss Servers View, Publish</title>
		  <para>
			  In the JBoss Server's View, in the bottom section, is a 
			  category called <emphasis><property>Modules</property></emphasis> which should
			  display all currently-published modules on the server.
			  By right-clicking on the desired module and selecting
			  <emphasis><property>Full Publish</property></emphasis>, it will force a full
			  rebuild of the entire module. </para>
	  	<figure>
	  		<title>Full Publish</title>
	  		<mediaobject> 
	  			<imageobject>
	  				<imagedata fileref="images/modules/modules_4.png"/>
	  			</imageobject>
	  		</mediaobject>
	  	</figure>
	  </section>
	  <section><title>Project Archives View</title>
		  <para>In the Project Archives View, you can 
			  right-click on any declared archive and select the 
			  <emphasis><property>Publish To Server</property></emphasis> element, as described in
			  the JBoss AS Perspective chapter. </para>
	  	<figure>
	  		<title>Publish to Server</title>
	  		<mediaobject> 
	  			<imageobject>
	  				<imagedata fileref="images/modules/modules_5.png"/>
	  			</imageobject>
	  		</mediaobject>
	  	</figure>
		  <para>
			  The only way to ensure an <emphasis>Incremental Build</emphasis>, 
			  such as changes to one jsp, html, or .class file, is to 
			  enable the builder for that project. This is done by either changing
			  the global preferences for the Archives View, or in enabling
			  project-specific preferences and ensuring the builder is on.</para>
	  </section>
  <!--
    <figure id="viewMain"> <title>JBoss Servers View: Main Section</title>
    <mediaobject>
	<alt>JBoss Servers View Main Section</alt>
	<imageobject>
		<imagedata 
			fileref="..\..\..\..\reference\en\images\asPerspective\viewMain.jpg"/>
	</imageobject>
   </mediaobject>
   </figure>
   -->
   </section>
   </chapter>	
