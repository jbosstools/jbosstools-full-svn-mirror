<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

     <extension
         id="EJB3ProjectNature"
         name="EJB3 Project Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run class="org.jboss.ide.eclipse.ejb3.core.project.EJB3ProjectNature"/>
      </runtime>
   </extension>


  <!-- Project Facets -->
<extension point="org.eclipse.wst.common.project.facet.core.facets">

    <project-facet id="jbide.ejb30" version="1.0">
      <label>JBoss EJB3</label>
      <description>JBoss EJB3 implementation</description>
      <icon></icon>
    </project-facet>

    <project-facet-version facet="jbide.ejb30" version="1.0">
      <constraint>
        <and>
          <requires facet="jst.java" version="[5.0"/>
        </and>
      </constraint>
    </project-facet-version>

    <action facet="jbide.ejb30" version="1.0" type="INSTALL" id="jbide.ejb30.install">
      <delegate class="org.jboss.ide.eclipse.ejb3.core.facet.Ejb30FacetInstallDelegate"/>
      <config-factory class="org.jboss.ide.eclipse.ejb3.core.facet.Ejb30FacetInstallDataModelProvider"/>
    </action>

    <event-handler facet="jbide.ejb30" version="1.0" type="POST_INSTALL">
      <delegate class="org.jboss.ide.eclipse.ejb3.core.facet.Ejb30FacetPostInstallDelegate"/>
    </event-handler>

    <template id="template.jbide.ejb30">
      <label>jbide.ejb30 Template</label>
      <fixed facet="jst.java"/>
      <fixed facet="jbide.ejb30"/>
    </template>
    
    <preset id="jbide.ejb30.preset">
	    <label>JBoss EJB 3.0 Project</label>
	    <description>Creates a JBoss EJB 3.0 Project.</description>
    	<facet id="jst.java" version="5.0"/>
    	<facet id="jbide.ejb30" version="1.0"/>
	  </preset>
    
</extension>

<!--
<extension point="org.eclipse.wst.common.project.facet.core.runtimes">
  <runtime-component-type id="org.jboss.ide.eclipse.ejb30.component.10"/>
  <runtime-component-version
            type="org.jboss.ide.eclipse.ejb30.component.10"
            version="1.0"/>

  <supported>
    <runtime-component id="org.jboss.ide.eclipse.ejb30.component.10" version="1.0"/>
    <facet id="jbide.ejb30" version="1.0"/>
    <facet id="jst.java" version="5.0"/>
  </supported>
  <adapter>
      <runtime-component
            id="org.jboss.ide.eclipse.ejb30.component.10"
            version="1.0"/>
      <factory
         class="org.jboss.ide.eclipse.ejb3.core.facet.ProjectRuntimeClasspathProvider$Factory"/>
      <type
         class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
    </adapter>
</extension>
    -->

<!--
   <extension
         point="org.eclipse.jst.server.core.runtimeFacetMappings">
      <runtimeFacetMapping
            runtime-component="org.jboss.ide.eclipse.ejb30.component.10"
            runtimeTypeId="org.jboss.ide.eclipse.as.runtime.40"
            version="1.0"/>
   </extension>
-->

   <extension
         point="org.eclipse.wst.server.core.moduleFactories">
         
      <moduleFactory
            class="org.jboss.ide.eclipse.ejb3.core.module.Ejb30ModuleFactory"
            id="org.jboss.ide.eclipse.ejb3.core.ejb3Factory"
            order="5"
            projects="true">
            <moduleType
         		versions="1.0"
         		types="jbide.ejb30">
            </moduleType>
      </moduleFactory>
   </extension>
   <extension
         point="org.eclipse.wst.server.core.moduleArtifactAdapters">
      <moduleArtifactAdapter
            class="org.jboss.ide.eclipse.ejb3.core.module.Ejb30ArtifactAdapter"
            id="org.jboss.ide.eclipse.ejb3.wizards.core.moduleArtifactAdapter1">
         <enablement>
            <or>
               <instanceof value="org.eclipse.core.resources.IProject"/>
               <instanceof value="org.eclipse.jdt.core.IJavaProject"/>
            </or>
         </enablement>
       </moduleArtifactAdapter>
   </extension>

</plugin>
