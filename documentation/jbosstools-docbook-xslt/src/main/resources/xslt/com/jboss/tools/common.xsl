<?xml version='1.0'?>

<!--
  Copyright 2008 JBoss, a division of Red Hat
  License: LGPL
  Author: Mark Newton <mark.newton@jboss.org>
-->

<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  
  <!-- XHTML settings -->
  
  <xsl:param name="html.stylesheet" select="'css/tools.css'"/>
  
  <xsl:template name="head.content"> 
    <xsl:param name="node" select="."/> 
    <xsl:param name="title"> 
      <xsl:apply-templates select="$node" mode="object.title.markup.textonly"/> 
    </xsl:param> 
    
    <title xmlns="http://www.w3.org/1999/xhtml" > 
      <xsl:copy-of select="$title"/> 
    </title> 
    
    <xsl:if test="$html.stylesheet != ''"> 
      <xsl:call-template name="output.html.stylesheets"> 
        <xsl:with-param name="stylesheets" select="normalize-space($html.stylesheet)"/> 
      </xsl:call-template> 
    </xsl:if> 
    
    <xsl:if test="$link.mailto.url != ''"> 
      <link rev="made" href="{$link.mailto.url}"/> 
    </xsl:if> 
    
    <xsl:if test="$html.base != ''"> 
      <base href="{$html.base}"/> 
    </xsl:if> 
    
    <meta xmlns="http://www.w3.org/1999/xhtml" name="generator" content="DocBook {$DistroTitle} V{$VERSION}"/> 
    
    <xsl:if test="$generate.meta.abstract != 0"> 
      <xsl:variable name="info" select="(articleinfo |bookinfo |prefaceinfo |chapterinfo |appendixinfo |sectioninfo |sect1info |sect2info |sect3info |sect4info |sect5info |referenceinfo |refentryinfo |partinfo |info |docinfo)[1]"/> 
      <xsl:if test="$info and $info/abstract"> 
        <meta xmlns="http://www.w3.org/1999/xhtml" name="description"> 
          <xsl:attribute name="content"> 
            <xsl:for-each select="$info/abstract[1]/*"> 
              <xsl:value-of select="normalize-space(.)"/> 
              <xsl:if test="position() &lt; last()"> 
                <xsl:text> </xsl:text> 
              </xsl:if> 
            </xsl:for-each> 
          </xsl:attribute> 
        </meta> 
      </xsl:if> 
    </xsl:if> 
    
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="images/favicon0.ico" /> 
    
    <xsl:apply-templates select="." mode="head.keywords.content"/> 
  </xsl:template>
  
  <!-- XHTML and PDF -->
  
</xsl:stylesheet>
