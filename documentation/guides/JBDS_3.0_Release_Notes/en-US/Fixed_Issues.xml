<?xml version='1.0' encoding='utf-8' ?>
<section id="Issues-fixed-in-this-release">
		<title>
			Issues fixed in this release
		</title>
		
		<para>
			Following is a list of issues fixed in this release:
		</para>
		<formalpara>
			<title>Contexts and Dependency Injection (CDI)</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5770">JBIDE-5770</ulink>: The EL code completion icon has been updated to use the <application>JBoss Weld</application> icon.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5355">JBIDE-5355</ulink>: A Contexts and Dependency Injection Project Facet has been added to <application>JBoss Developer Studio</application>.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5276">JBIDE-5276</ulink>: The <guimenuitem>Add CDI Support</guimenuitem> and <guimenuitem>Remove CDI Support</guimenuitem> items have been added to the Project menu. 
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>ESB</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5653">JBIDE-5653</ulink>: The <guilabel>ESB Content Based Router </guilabel> dialog box has been modified so that the <guilabel>CBR Alias</guilabel> field is now mondatory, allowing the value of it to determine what other fields are available. The <guilabel>Rule Set</guilabel> field is now not required when a <guilabel>CBR Alias</guilabel> of Regex or XPath is provided, since with these alias the rules can be specified inline and the <guilabel>Rule Language</guilabel> field is now set to apply only when the <guilabel>CBR Alias</guilabel> is Drools. The <guilabel>Rules Reload</guilabel> field will only apply when a <guilabel>Rule Set</guilabel> has been specified.
						</para>
						<para>
							The table <guilabel>Route List</guilabel> found in the <guilabel>JBoss ESB Editor</guilabel> now lists the <emphasis>expression</emphasis> since this is a common undertaking by users.
						</para>
						<para>
							In the <guilabel> Add Route To</guilabel> dialog box, the <guilabel>Service Category</guilabel> field has been made mandatory. Other changes to this dialog box include the <guilabel>Desitination name</guilabel> only being required if the previous CBR action contained a <guilabel>Rule Set</guilabel> and if the CBR action did not contain a <guilabel>Rule Set</guilabel>, an <guilabel>Expression</guilabel> field is included.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5627">JBIDE-5627</ulink>: For this release of the <application>JBoss Developer Studio</application> variations of the <guilabel>Content Based Router</guilabel> menu have been added to the ESB editor for Drools, Drools XPath, Generic, XPath and Regex.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5548">JBIDE-5548</ulink>: In the ESB Configuration Editor, when selecting a JBR Listener, JBR Bus or JBR Provider, new functionality has been added to allow a user to configure the properties: <property>synchronous</property>, <property>serviceInvokerTimeout</property> and <property>asyncResponse</property> through the new child object <property>Config</property>. These new configurable properties allow a user increased control over the execution of the JBR components.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5547">JBIDE-5547</ulink>: In the ESB Configuration Editor, when selecting a FTP Listener in read-only mode new functionality has been added to allow a user to configure the properties: <property>maxNodes</property>, <property>timeToLiveSeconds</property> and <property>maxAgeSeconds</property> through the new child object <property>Cache</property>. In addition the following properties have been added to allow a user to select their own values for the: <property>Class</property>, <property>Config File</property> and <property>Cache Listener</property> available through the new child object <property>Remote Filesystem Strategy</property>. These new configurable properties allow a user increased control over the execution of the FTP Listener.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5489">JBIDE-5489</ulink>: For the <guilabel>BPMProcessor</guilabel> within the ESB Editor, the <property>Command</property> property has been modified to include possible values of <emphasis>NewProcessInstanceCommand</emphasis>, <emphasis>StartProcessCommand</emphasis> and <emphasis>CancelProcessInstanceCommand</emphasis> in a drop-down box.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5486">JBIDE-5486</ulink>: When a user would try to open an editor for a property that didn't exist nothing would occur. With this update, a <guilabel>New File</guilabel> wizard opens to guide the user through the creation of the property they were attempting to open. Once this is completed, the ESB Editor fields are then populated with the new file name and path for the property.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5427">JBIDE-5427</ulink>: In the ESB Editor, the items that displayed when right clicking and going to <menuchoice><guimenuitem>Provider</guimenuitem><guimenuitem>New</guimenuitem></menuchoice> were presented in a different order to those of the <menuchoice><guimenuitem>Listner</guimenuitem><guimenuitem>New</guimenuitem></menuchoice> list. To ensure consistency the <guimenuitem>Provider</guimenuitem> list of items has been reordered to match the <guimenuitem>Listner</guimenuitem> menu.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5229">JBIDE-5229</ulink>: ESB 4.7 that is contained within <application>JBoss SOA Platform 5.0</application> is now offically supported in this version of the <application>JBoss Developer Studio</application>.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5191">JBIDE-5191</ulink>: The Smooks, Drools, jPDL, XSLT and Groovy editors have been linked to the ESB Editor, providing an improved user experience. <guibutton>Browse</guibutton> buttons that allow for file association and use have been added to the <property>Smooks Transformer</property>, <property>GroovyActionProcessor</property>, <property>Rule Set</property> and <property>Rule Language</property> properties.
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>Hibernate</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5643">JBIDE-5643</ulink>: Within the <guilabel>Hibernate</guilabel> tab of the <filename>persistence.xml</filename> editor, the button beside the <guilabel>Configuration file</guilabel> line was labeled <guibutton>Browse</guibutton>. This was misleading as upon clicking the button the user would be asked setup a configuration file. To provide an improved user experience, the button has now been altered to be called <guibutton>Setup</guibutton> and correctly guides the user through configuration file creation.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5641">JBIDE-5641</ulink>: When specifying the persistence property: <property>&lt;property name="hibernate.ejb.cfgfile" value="hibernate.cfg.xml"/&gt;</property>, an error could display saying that the <filename>hibernate.cfg.xml</filename> file could not be found. This occured because the validator only considered full paths and not relative path naming. This has since been corrected through the modification of the <classname>HibernatePersistenceUnit</classname> class. 
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5499">JBIDE-5499</ulink>: Refactoring support has been added to <guilabel>Hibernate Code Generation Configurations</guilabel>. 
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5411">JBIDE-5411</ulink>: The <guilabel>New Hibernate XML Mapping file</guilabel> wizard used to show all available packages. This update ensures that only packages containing java classes are shown.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5408">JBIDE-5408</ulink>: Three issues are fixed:
							<itemizedlist>
								<listitem>
									<para>
										The new Hibernate XML Mapping file (<filename>hbm.xml</filename>) would rewrite all <filename>hbm.xml</filename> files without warning. To correct this the entire result is written into the systems' temporary directory and then the merge of results is conducted.
									</para>
								</listitem>
								<listitem>
									<para>
										After the merge of results is conducted, clicking the <guibutton>Finish without Preview</guibutton> button should change the page, however this did not work. The <guibutton>Finish without Preview</guibutton> now works as expected.
									</para>
								</listitem>
								<listitem>
									<para>
										After the merge, following the button clicks <guibutton>GoTo</guibutton>, <guibutton>Next</guibutton>, <guibutton>Back</guibutton> and then <guibutton>Finish</guibutton> would not work correctly. This method of steps now functions as users would expect.
									</para>
								</listitem>
							</itemizedlist>
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5222">JBIDE-5222</ulink>: A new feature as been added that allows for support of <guilabel>filter configurations in closed porjects</guilabel> for console configuration. This option is available through <menuchoice><guimenuitem>Preferences</guimenuitem><guimenuitem>Run/Debug</guimenuitem><guimenuitem>Launching</guimenuitem><guimenuitem>Launch Configurations</guimenuitem></menuchoice>.
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>JavaServer Faces (JSF)</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5670">JBIDE-5670</ulink>: The <filename>faceleted-taglib</filename> tag library was not supported in <filename>*taglib.xml</filename> with XML Schema Definition (XSD). Support for this library has been added to this release of the <application>JBoss Developers Studio</application>, allowing for support of <application>JavaServer Faces 2</application>.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5660">JBIDE-5660</ulink>: When setting the location of an <property>&lt;error-page&gt;</property> within <filename>web.xml</filename>, the location would not be recognized if it included a query string. For example the location <filename>views/error/error.xhtml</filename> would be valid, whereas the location <filename>/views/error/error.xhtml?statusCode=403</filename> would not be valid. This has been corrected by adding a test for a query string into the <filename>CheckResource.java</filename> file, allowing for locations to be specified that include a query string.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5471">JBIDE-5471</ulink>: <filename>web-facesconfig_2_0.xsd</filename> support has been added to the <guilabel>JavaServer Faces Configuration</guilabel> editor. This file provides the XML Schema for the JavaServer Faces Application Configuration File Version 2.0.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5381">JBIDE-5381</ulink>: Content Assist has been added for use with the elements defined using the default namespace.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5277">JBIDE-5277</ulink>: The options to Add and Remove JSF support have been added to the project menu.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5670">JBIDE-5237</ulink>: CSS Class Hyperlink for the <property>class</property> attribute of HTML tags would not search through CSS loaded using JSF tags (for example: &lt;a:loadStyle /&gt;). This has now been fixed so that the searching of CSS classes returns the correct user expected results.
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>RichFaces</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5743">JBIDE-5743</ulink>: Content assistance in coding did not show anything for the tag <property>&lt;rich:menuItem ... icon="|" /&gt;</property>. The content assistance has been corrected by adding the <property>icon</property> attribute to the <filename>RichFaces.xml</filename> tag library.
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>Seam</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5275">JBIDE-5275</ulink>: The <guimenuitem>Add Seam Support</guimenuitem> and <guimenuitem>Remove Seam Support</guimenuitem> items have been added to the Project menu. 
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5221">JBIDE-5221</ulink>: The <guilabel>JBoss Server View</guilabel> has now been replaced with the <guilabel>Server View</guilabel> in the Seam perspective. This has occured out of the <guilabel>JBoss Server View</guilabel> being depricated.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5192">JBIDE-5192</ulink>: The name of the editor when using the <guilabel>Diagram Viewer</guilabel> was a concatenation of the names of the diagram entities, leading to a long name in some cases. This issue has been corrected by modifying the <filename>OrmDiagram.java</filename> and <filename>DiagramViewer.java</filename> files to display a name from the following three options (based on the number of entities):
							<itemizedlist>
								<listitem>
									<para>
										Console name: Entity name 
									</para>
								</listitem>
								<listitem>
									<para>
										Console name: First Entity name and Second Entity name 
									</para>
								</listitem>
								<listitem>
									<para>
										Console name: First Entity name and &lt;number of other entities&gt; others
									</para>
								</listitem>
							</itemizedlist>
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5170">JBIDE-5170</ulink>: When changing, adding or removing a Seam runtime from within <menuchoice><guimenuitem>Window</guimenuitem><guimenuitem>Preferences</guimenuitem><guimenuitem>JBoss Tools</guimenuitem><guimenuitem>Web</guimenuitem><guimenuitem>Seam</guimenuitem></menuchoice>, Seam projects would not be built or validated. The behavior has been changed to build and validate Seam projects upon changes in the <guimenuitem>Preferences</guimenuitem> section to ensure correct functioning of the project. The <filename>SeamRuntimeManager.java</filename> file was updated to correct this.
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>Smooks</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5275">JBIDE-5259</ulink>: The Smooks configuration has received a test facility through the modification of the <guibutton>Run</guibutton> button to output a java result to the <guilabel>Console</guilabel>. This allows a user to test Smooks projects in a simplified way.
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>Struts</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5278">JBIDE-5278</ulink>: The options to Add and Remove Struts support have been added to the project menu.
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>Visual Page Editor</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5184">JBIDE-5184</ulink>: A memory leak existed in the Visual Page Editor. To fix this leak, the following plug-ins have been modified:
						</para>
						<itemizedlist>
							<listitem>
								<para>
									<filename>org.jboss.tools.vpe</filename>
								</para>
							</listitem>
							<listitem>
								<para>
									<filename>org.jboss.tools.vpe.xulrunner</filename>
								</para>
							</listitem>
							<listitem>
								<para>
									<filename>org.jboss.tools.jst.jsp</filename>
								</para>
							</listitem>
						</itemizedlist>
						<para>
							The issues that caused the memory leak were:
						</para>
						<itemizedlist>
							<listitem>
								<para>
									<emphasis>JSPMultiPageEditorSite</emphasis>: The constructor created the <classname>serviceLocator</classname> that wasn't disposed of after use. 
								</para>
							</listitem>
							<listitem>
								<para>
									The <methodname>XulRunnerBrowser.dispose()</methodname> method would remove the <classname>progressListener</classname>, however this would only be done after all SWT objects and controls were already disposed. This meant the method had no effect. The dispose method is now called before the SWT objects and controls are disposed.
								</para>
							</listitem>
							<listitem>
								<para>
									The <methodname>MozillaEditor.getEditor()</methodname> madethe Mozilla window editable using <methodname>nsIEditingSession.setupEditorOnWindow()</methodname>. To counteract this the objects created are now removed by using <methodname>nsIEditingSession.tearDownEditorOnWindow()</methodname>. 
								</para>
							</listitem>
							<listitem>
								<para>
									The <methodname>createPartControl()</methodname> method in the <classname>MozillaEditor</classname> and <classname>MozillaPreview</classname> classes create <classname>XullRunnerEditor</classname> as an inner class. The issue was that the <classname>XullRunnerEditor</classname> class retained a reference to <classname>MozillaEditor(MozillaPreview)</classname> that caused it not to be released and instead retain references to WST and EMF classes. This has now been corrected so that classname>MozillaEditor(MozillaPreview)</classname> is now released after use and referecnes are not retained.
								</para>
							</listitem>
						</itemizedlist>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>XML Structured Editor</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5521">JBIDE-5521</ulink>: The Web Servlet Mapping dialog box now contains a drop-down list for the <guilabel>Servlet-Name</guilabel> field so that servlets that have been entered into the <filename>web.xml</filename> file can be selected easily.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5426">JBIDE-5426</ulink>: The Servlet Mapping Editor <guilabel>Servlet-Name</guilabel> field has been improved with a drop-down menu to fill it in.
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
		<formalpara>
			<title>General Issues</title>
			<para>
				<itemizedlist>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5743">JBIDE-5743</ulink>: The Web Servlet Mapping dialog box now contains a drop-down list for the <guilabel>Servlet-Name</guilabel> field so that servlets that have been entered into the <filename>web.xml</filename> file can be selected easily.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5690">JBIDE-5690</ulink>: The <guibutton>Full-Publish</guibutton> hotkey would only accept the first module and re-deploy it to the first server the module is deployed on. For the user this meant that if the module was already deployed on several servers, using <guibutton>Full-Publish</guibutton> would only re-deploy it to the first server returned in the list. To solve this issue a user interface has been added for the <guibutton>Full-Publish</guibutton> hotkey that allows for the selection of the server to re-deploy to. During the implementation of this fix, the package has been renamed to XPL.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5743">JBIDE-5267</ulink>: The <application>JBoss Enterprise Application Platform</application> server would start correctly, however the <application>JBoss Developer Studio</application> would not acknowledge that it had started. To counteract this the <filename>JMXPoller.java</filename> timeout behaviour has been modified to always return that the server succeeded in starting instead of ignoring the timeout. This fix ensures that a user is not informed that the server did not start correctly when it did.
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="http://jira.jboss.com/jira/browse/JBIDE-5153">JBIDE-5153</ulink>: A <guilabel>JavaMain</guilabel> tab has been added to the tab group to allow for customization of the main class of the server. The changes to the main class are verified to persist by server startup checks.
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</formalpara>
	</section>
