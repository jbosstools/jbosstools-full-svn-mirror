<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Language" content="en-us" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" href="../whatsnew.css" />
<title>What's New in Maven Tools</title>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17645367-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head>
<body>
<h1>Maven Tools</h1>

<p align="right"><a href="../index.html">&lt; Main Index</a> <a
href="../ws/openshift-news-2.3.0.Beta3">OpenShift Tools &gt;</a></p>
<table border="0" cellpadding="10" cellspacing="0" width="80%">
	<tr>
		<td colspan="2">
		<hr />
		<h3>JBoss Maven Integration</h3>
		<hr />
		</td>
	</tr>
	<tr>
		<td valign="top" align="left">
		<a name="itemname1" id="itemname1"></a><b>Annotation Processing support</b></td>
		<td valign="top">
        <p>
        m2e-apt is a m2e plugin allowing automatic configuration of Eclipse JDT's built-in Annotation Processing Toolkit (APT) based on your maven project's pom.xml configuration.<br/>
        m2e-apt is preinstalled with JBoss Developer Studio 5.0.0.Beta3. For JBoss Tools 3.0.0.Beta3 users, m2e-apt can be installed via the Software/Update tab in JBoss Central :
        </p>
        <img src="../images/m2e-apt-central.png" />
        <p>
        With m2e-apt, you can now automatically enable annotation processing support for maven projects, based on their classpath dependencies (Requires Java &gt;= 1.6). <br/>
        <br/>m2e-apt supports both annotation processing set on the maven-compiler-plugin or the <a href="http://code.google.com/p/maven-annotation-plugin/">maven-processor-plugin</a> 
        (the latter takes precedence over the former). <br/><br/>
        For example, to enable the JPA modelgen annotation processor, you can either set : <br/><br/>
 
 &lt;plugin&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;2.4&lt;/version&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;configuration&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;source&gt;1.6&lt;/source&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;target&gt;1.6&lt;/target&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/configuration&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependencies&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.2.0.Final&lt;/version&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependencies&gt;&nbsp;<br/>&lt;/plugin&gt;&nbsp;<br/><br/>or&nbsp;<br/><br/>&lt;plugin&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;2.4&lt;/version&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;configuration&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;source&gt;1.6&lt;/source&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;target&gt;1.6&lt;/target&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/configuration&gt;&nbsp;<br/>&lt;/plugin&gt;&nbsp;<br/>&lt;plugin&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;2.0.5&lt;/version&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;executions&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;execution&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;id&gt;process&lt;/id&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;goals&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;goal&gt;process&lt;/goal&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/goals&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;phase&gt;generate-sources&lt;/phase&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/execution&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/executions&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependencies&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.2.0.Final&lt;/version&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependencies&gt;&nbsp;<br/>&lt;/plugin&gt;&nbsp;
 
        </p>
        <p>The generated source folders (target/generated-sources/annotation for maven-compiler-plugin; target/generated-sources/apt for maven-processor-plugin) are automatically added to the project classpath. </p>
        <img src="../images/m2e-apt.png" />
        <p>
        Since Annotation Processing is managed by Eclipse JDT APT by default, a change in your source classes triggers incremental processing automatically. The downside of using JDT APT is, there's no separation between main and test classes (the way maven-processor-plugin handles them). To mitigate that limitation, you can change the workspace or project preferences to delegate annotation processing to maven, instead of JDT APT (Note this only works when using maven-processor-plugin). This will result in slower incremental builds (all classes will be processed) but will provide identical results to maven command line builds. <br/><br/>Automatic Annotation Processing configuration from the maven pom.xml can also be disabled altogether. In this case, your manual settings for Eclipse JDT APT will remain untouched. <br/><br/>Go to Window &gt; Preferences &gt; Maven &gt; Annotation processing or right-click on your project &gt; Properties &gt; Maven &gt; Annotation processing to select the Annotation Processing strategy of your choice. 
        </p>
        <img src="../images/m2e-apt-prefs.png" />
		<p>
        <small>
		  See <a href="https://issues.jboss.org/browse/JBIDE-8208">JBIDE-8208</a> for more details.
		</small></p>
		</td>
	</tr>

	<tr>
    <td colspan="2">
      <hr/>
    </td>
  </tr>

	<tr>
	    <td valign="top" align="left">
		<a name="itemname2" id="itemname2"></a><b>New GWT configurator</b></td>
		<td valign="top">
		<p>You can enable/disable GWT Project Configurator by using follow preference:</p>
		<img src="../images/jboss_maven_integration_gwt.png" />
		<p>GWT Project Configurator scans configuration "gwt-maven-plugin" in pom.xml for modules and adds them to the configuration.<br/>
		For example, to define module(s) in pom.xml you can either set:<br/><br/>
		</p>
		<img src="../images/gwt_module_definition.png" />
		<p>or</p>
		<img src="../images/gwt_modules_definition.png" />
        <p>If there is no modules defined in pom.xml then Configurator adds all existing modules to configuration.</p>
        <p>GWT Project Configurator sets GWT Compiler output folder to the same folder which is used by Maven Compiler.</p>
        <p>You can use Maven or GWT Compiler to compile your application and Deploy to Server or Running on an External Server, it does not require additional compilation.</p>
        <p>
		<small>
		See:
			<ul>
		  <li><a href="https://issues.jboss.org/browse/JBIDE-11224">Ensure GWT tooling and m2e-wtp are configured for same output directory</a></li>
		  <li><a href="https://issues.jboss.org/browse/JBIDE-11244">Auto-discover all the modules and add them to the configuration on GWT project import</a></li>
		  	</ul> 
		</small></p>
	    </td>
	</tr>
	<tr>
	    <td colspan="2">
	      <hr/>
	    </td>
	</tr>


	<tr>
	    <td valign="top" align="left">
		<a name="itemname3" id="itemname3"></a><b>JBoss Source Lookup</b></td>
		<td valign="top">
		<p>See <a href="https://community.jboss.org/en/tools/blog/2012/01/24/jboss-source-lookup">JBoss Source Lookup</a> for more details.
		</p>
		<p>
		<small>
		  Related <a href="https://issues.jboss.org/browse/JBIDE-9309">jira</a>. 
		</small>
        </p>        
	    </td>
	</tr>
	<tr>
	    <td colspan="2">
	      <hr/>
	    </td>
	</tr>

    	<tr>
            <td valign="top" align="left">
		<a name="itemname3" id="itemname4"></a><b>New Hibernate 3.6.x and 4.x maven provided libraries</b></td>
		<td valign="top">
		<p>When you start a project and you need to add Hibernate as your JPA provider, adding the Hibernate dependencies manually one by one can be a chore. 
            Now if your project is Facet enabled, adding both the JBoss Maven and the JPA Facet will give you access to new JPA library providers for the Hibernate platform.
        </p>
        <p>
        <ul><li>Right-click on your project > Properties > Project Facets </li>
        <li>Convert to Faceted form if necessary</li>
        <li>Select both the JBoss Maven and JPA Facet</li>
        <li>Click on the "Further Configuration required/available..." link</li>
        <li>On the JPA Facet page, select the Hibernate JPA 2.X platorm and the type of JPA implementation</li>
        <li>Hibernate 4.1.0 or 3.6.10 libraries are available</li>
        </ul>
        <img src="../images/hibernate-lib-provider.png" />
        <br/><br/>
        </p>
        <p>
        You can change the dependencies version and exclusions :<br/>
        </p>        
        <img src="../images/hibernate-4-lib-provider.png" />
        <p>
        Once you finish the Facets configuration, your project will have the Hibernate dependencies added to its pom.xml <br/>
        </p>        

        <img src="../images/hibernate-lib-provider-pom.png" />

		<p>      
		<small>
		  See <a href="https://issues.jboss.org/browse/JBIDE-10911">JBIDE-10911</a> for more details. 
		</small>
        </p>        
	    </td>
	</tr>
	<tr>
	    <td colspan="2">
	      <hr/>
	    </td>
	</tr>
    
</table>

</body>

</html>


