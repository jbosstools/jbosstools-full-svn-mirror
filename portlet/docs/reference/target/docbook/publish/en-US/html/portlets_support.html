<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 4. JBoss Portlet Support</title><link rel="stylesheet" href="css/tools.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link xmlns="" rel="shortcut icon" type="image/vnd.microsoft.icon" href="images/favicon.ico"/><script xmlns="" type="text/javascript" src="script/toggle.js"><!--If you see this message, your web browser doesn't support JavaScript or JavaScript is disabled.--></script><link rel="start" href="index.html" title="JBoss Portal Tools Reference Guide"/><link rel="up" href="index.html" title="JBoss Portal Tools Reference Guide"/><link rel="prev" href="starting_project.html" title="Chapter 3. Starting the Project with JBoss Portal"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="starting_project.html"><strong>Prev</strong></a></li><li class="next"/></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="portlets_support"/>Chapter 4. JBoss Portlet Support</h2></div></div></div><div class="toc"><dl><dt><span xmlns="" class="section"><a href="portlets_support.html#adding_java_portlet">4.1. Adding a Java Portlet to the Project</a></span></dt><dt><span xmlns="" class="section"><a href="portlets_support.html#adding_JsfSeam_portlet">4.2. Adding JSF/Seam Portlets</a></span></dt><dt><span xmlns="" class="section"><a href="portlets_support.html#d0e543">4.3. Deploying a Portlet to JBoss Portal</a></span></dt></dl></div><p><span class="property">JBoss Tools</span> (starting from 3.0 Alpha) support the JSR-168 Portlet
        Specification (Portlet 1.0), JSR-286 Portlet Specification (Portlet 2.0) and work with
            <span class="property">Portlet Bridge</span> for supporting Portlets in JSF/Seam applications.
        All these are performed through the Create New Portlet wizards.</p><p>There are two kinds of the Create Portlet wizards: <span class="property">Java Portlet</span> and
            <span class="property">JSF/Seam Portlet</span>.</p><p>How to create Java Portlet within just organized Dynamic Web Project we will show you
        further in this chapter.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="adding_java_portlet"/>4.1. Adding a Java Portlet to the Project</h2></div></div></div><p>Here, we'll show how you can add a new Java Portlet to our project.</p><p>Call the New Java Portlet wizard by selecting <span class="emphasis"><em>
                <span class="property">New &gt; Other &gt; JBoss Tools Web &gt; Portlet &gt; Java
            Portlet</span>.</em></span></p><div class="figure"><a id="d0e396"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_1.png" alt="New Java Portlet"/></div></div><p class="title"><b>Figure 4.1. New Java Portlet</b></p></div><br class="figure-break"/><p>The Web Project and Source Folder fields the wizard fills in for you itself. Specify
            the Java package and the Class name and click <span class="emphasis"><em>
                <span class="property">Next</span>
            </em></span>.</p><div class="figure"><a id="d0e410"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_2.png" alt="Specifying Class File Destination"/></div></div><p class="title"><b>Figure 4.2. Specifying Class File Destination</b></p></div><br class="figure-break"/><p>On the other page you will be able to set the display name of the Portlet, a title, a
            description, the supported modes and init parameters.</p><div class="figure"><a id="d0e418"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_3.png" alt="Specifying Class File Destination"/></div></div><p class="title"><b>Figure 4.3. Specifying Class File Destination</b></p></div><br class="figure-break"/><p>On the next screen you can define which methods from
            <span class="emphasis"><em>GenericPortlet</em></span> you want to override.</p><div class="figure"><a id="d0e429"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_4.png" alt="Specifying Class File Destination"/></div></div><p class="title"><b>Figure 4.4. Specifying Class File Destination</b></p></div><br class="figure-break"/><p>The last screen lets you build <span class="property">JBoss Portal</span> specific descriptors
            to create an instance during the deployment and place it directly on the Portal.</p><div class="figure"><a id="d0e440"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_5.png" alt="Specifying Class File Destination"/></div></div><p class="title"><b>Figure 4.5. Specifying Class File Destination</b></p></div><br class="figure-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip:</h2><p>If you uncheck the <span class="emphasis"><em> Create Portlet Instance</em></span> checkbox,
                    <span class="property">JBoss Tools</span> won't create the deployment elements
                in the <span class="emphasis"><em> default-object.xml</em></span> and <span class="emphasis"><em>
                portlet-instances.xml</em></span> files.</p></div><p>Once Java Portlet is created, new resources have been added to the project structure.
            As you can see on the figure below, it adds a Java Portlet class (<span class="emphasis"><em>
                <span class="property">TestPortlet.java</span>
            </em></span> in our case), <span class="emphasis"><em>
                <span class="property">default-object.xml</span>
            </em></span> and <span class="emphasis"><em>
                <span class="property">portlet-instances.xml</span>
            </em></span> files and updates <span class="emphasis"><em>
                <span class="property">portlet.xml</span>
            </em></span> as well.</p><div class="figure"><a id="d0e489"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_6.png" alt="The structure of Web Project with Java Portlet created"/></div></div><p class="title"><b>Figure 4.6. The structure of Web Project with Java Portlet created</b></p></div><br class="figure-break"/><p>Thus, now the Project is ready to be built and deployed.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="adding_JsfSeam_portlet"/>4.2. Adding JSF/Seam Portlets</h2></div></div></div><p>What comes to JSF/Seam Portlets, you need to have a Web Project with enabled JSF/Seam
            Portlet Facets. Thus in this case when starting a new Dynamic Web Project, you should
            point to <span class="emphasis"><em>JBoss JSF/Seam Portlet Project v1.0</em></span> (or
            <span class="emphasis"><em>v2.0</em></span>) Configuration respectively.</p><div class="figure"><a id="d0e508"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_7.png" alt="Dynamic Web Project with JSF/Seam Portlet Facet"/></div></div><p class="title"><b>Figure 4.7. Dynamic Web Project with JSF/Seam Portlet Facet</b></p></div><br class="figure-break"/><p>To create Portlet in the JSF/Seam Project you should go to <span class="emphasis"><em>
                <span class="property">New &gt; Other &gt; JBoss Tools Web &gt; Portlet &gt; JSF/Seam
            Portlet</span>.</em></span></p><div class="figure"><a id="d0e521"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_8.png" alt="Calling the JSF/Seam Portlet Wizard"/></div></div><p class="title"><b>Figure 4.8. Calling the JSF/Seam Portlet Wizard</b></p></div><br class="figure-break"/><p>If a project contains the Seam Portlet facet, default values in the wizard will be set
            as for a Seam Portlet.</p><div class="figure"><a id="d0e529"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_9.png" alt="JBoss JSF/Seam Portlet Wizard Page with JSF defaults"/></div></div><p class="title"><b>Figure 4.9. JBoss JSF/Seam Portlet Wizard Page with JSF defaults</b></p></div><br class="figure-break"/><p>Otherwise, the default values are as defined for a JSF Portlet.</p><div class="figure"><a id="d0e537"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_10.png" alt="JBoss JSF/Seam Portlet Wizard Page with Seam defaults"/></div></div><p class="title"><b>Figure 4.10. JBoss JSF/Seam Portlet Wizard Page with Seam defaults</b></p></div><br class="figure-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e543"/>4.3. Deploying a Portlet to JBoss Portal</h2></div></div></div><p>You can deploy the created project in the way you deploy any other Web Application.
            Right click on the project and do <span class="emphasis"><em>
                <span class="property">Run As &gt; Run On Server</span>
            </em></span> and accept the defaults. On the <span class="emphasis"><em>
                <span class="property">Add and Remove Projects</span>
            </em></span> page move the created Project to the right and click <span class="emphasis"><em>
                <span class="property">Finish</span>.</em></span></p><div class="figure"><a id="d0e565"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_11.png" alt="Deploying the Portlet Application"/></div></div><p class="title"><b>Figure 4.11. Deploying the Portlet Application</b></p></div><br class="figure-break"/><p>It will deploy the Portlet Web Application and start <span class="property">JBoss AS</span>.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip:</h2><p>You should use <span class="emphasis"><em>http://localhost:8080/portal</em></span> URL to see your
                Portlet in the Browser.</p></div><div class="figure"><a id="d0e584"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_12.png" alt="Java Portlet in the Browser Window"/></div></div><p class="title"><b>Figure 4.12. Java Portlet in the Browser Window</b></p></div><br class="figure-break"/><p>The JSF Portlet looks in the Browser as follows.</p><div class="figure"><a id="d0e592"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_13.png" alt="JSF Portlet in the Browser Window"/></div></div><p class="title"><b>Figure 4.13. JSF Portlet in the Browser Window</b></p></div><br class="figure-break"/></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="starting_project.html"><strong>Prev</strong>Chapter 3. Starting the Project with JBoss Portal</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li></ul></body></html>