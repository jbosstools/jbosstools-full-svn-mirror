<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>JBoss Portal Tools Reference Guide</title><link rel="stylesheet" href="css/tools.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link xmlns="" rel="shortcut icon" type="image/vnd.microsoft.icon" href="images/favicon.ico"/><script xmlns="" type="text/javascript" src="script/toggle.js"><!--If you see this message, your web browser doesn't support JavaScript or JavaScript is disabled.--></script></head><body><div class="book" lang="en-US"><div class="titlepage"><div><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><div><h1 class="title"><a id="d0e1"/>JBoss Portal Tools Reference Guide</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Olga</span> <span class="surname">Chikvina</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Snjezana</span> <span class="surname">Peco</span></h3><code class="email">&lt;<a href="mailto:snjezana.peco@redhat.com">snjezana.peco@redhat.com</a>&gt;</code></div></div><div><div class="author"><h3 class="author"><span class="firstname">Svetlana</span> <span class="surname">Mukhina</span></h3><code class="email">&lt;<a href="mailto:smukhina@exadel.com">smukhina@exadel.com</a>&gt;</code></div></div><div><div class="author"><h3 class="author"><span class="firstname">Thomas</span> <span class="surname">Heute</span></h3><code class="email">&lt;<a href="mailto:theute@jboss.org">theute@jboss.org</a>&gt;</code></div></div><div><p class="releaseinfo">
            Version: 3.0.0.alpha
          </p></div><div><p class="copyright">Copyright © 2008 JBoss, a division of Red Hat Inc.</p></div><div><p class="pubdate">September 2008</p></div></div><hr/></div><div class="toc"><dl><dt><span xmlns="" class="chapter"><a href="#intro">1. Introduction</a></span></dt><dd><dl><dt><span xmlns="" class="section"><a href="#preface">1.1. Preface</a></span></dt><dt><span xmlns="" class="section"><a href="#key_features">1.2. Key Features</a></span></dt><dt><span xmlns="" class="section"><a href="#rel_resources">1.3. Other relevant resources on the topic</a></span></dt></dl></dd><dt><span xmlns="" class="chapter"><a href="#installation">2. Installation issues</a></span></dt><dt><span xmlns="" class="chapter"><a href="#starting_project">3. Starting the Project with JBoss Portal</a></span></dt><dd><dl><dt><span xmlns="" class="section"><a href="#creating _project_with_jbossportal">3.1. Creating a Dynamic Web Project</a></span></dt><dt><span xmlns="" class="section"><a href="#structure_overview">3.2. The Project Structure Overview</a></span></dt></dl></dd><dt><span xmlns="" class="chapter"><a href="#portlets_support">4. JBoss Portlet Support</a></span></dt><dd><dl><dt><span xmlns="" class="section"><a href="#adding_java_portlet">4.1. Adding a Java Portlet to the Project</a></span></dt><dt><span xmlns="" class="section"><a href="#adding_JsfSeam_portlet">4.2. Adding JSF/Seam Portlets</a></span></dt><dt><span xmlns="" class="section"><a href="#d0e543">4.3. Deploying a Portlet to JBoss Portal</a></span></dt></dl></dd></dl></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="intro"/>Chapter 1. Introduction</h2></div></div></div><div class="toc"><dl><dt><span xmlns="" class="section"><a href="#preface">1.1. Preface</a></span></dt><dt><span xmlns="" class="section"><a href="#key_features">1.2. Key Features</a></span></dt><dt><span xmlns="" class="section"><a href="#rel_resources">1.3. Other relevant resources on the topic</a></span></dt></dl></div><p>Starting from 3.0 version, JBoss set of plugins extends <span class="property">JBoss Portal</span>
        features. Thus, this guide is intended to explain you how to manage the functionality
            <span class="property">JBoss Tools</span> provide to ease the development with <span class="property">JBoss
            Portal</span>.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="preface"/>1.1. Preface</h2></div></div></div><p><span class="property">JBoss Portal</span> provides an open source platform for hosting and
            serving a portal's Web interface, publishing and managing its content, and customizing
            its experience. It supports a wide range of features, including standard portlets,
            single sign-on, clustering, and internationalization.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="key_features"/>1.2. Key Features</h2></div></div></div><p>The next table lists key features supplied by <span class="property">JBoss Portal Tools</span>.</p><div class="table"><a id="d0e71"/><p class="title"><b>Table 1.1. Key Functionality of JBoss Portal Tools</b></p><div class="table-contents"><table summary="Key Functionality of JBoss Portal Tools" border="1"><colgroup><col align="left"/><col/><col/></colgroup><thead><tr><th align="left">Feature</th><th>Benefit</th><th>Chapter</th></tr></thead><tbody><tr><td align="left">
                            <p>Wizards for creating Projects with Portlet Facets</p>
                        </td><td>
                            <p>New Dynamic Web Project wizard allows you to select proper
                                Configuration to enable Portlet Facet in it.</p>
                        </td><td>
                            <a href="#creating _project_with_jbossportal" title="3.1. Creating a Dynamic Web Project">creating a Dynamic
                                Web Project</a>
                        </td></tr><tr><td align="left">
                            <p>Create Java Portlet wizard</p>
                        </td><td>
                            <p>The wizard enables creating a JSR-186/JSR-286 compliant portlet.</p>
                        </td><td>
                            <a href="#adding_java_portlet" title="4.1. Adding a Java Portlet to the Project">adding Java Portlet to a
                            project</a>
                        </td></tr><tr><td align="left">
                            <p>Create JSF/Seam Portlet wizard</p>
                        </td><td>
                            <p>This wizard creates a JSF/Seam portlet that uses JBoss Portlet Bridge</p>
                        </td><td>
                            <a href="#adding_JsfSeam_portlet" title="4.2. Adding JSF/Seam Portlets">adding JSF/Seam Portlet to a project</a>
                        </td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="rel_resources"/>1.3. Other relevant resources on the topic</h2></div></div></div><div class="itemizedlist"><ul><li><p>
                    <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.jboss.org/jbossportal/">JBoss Portal Home Page</a>
                </p></li><li><p>
                    <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://wiki.jboss.org/wiki/JBossPortal">JBoss Portal Wiki</a>
                </p></li><li><p>
                    <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.jboss.org/tools/">JBoss Tools Home Page</a>
                </p></li><li><p>
                    <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.jboss.com/index.html?module=bb&amp;op=viewforum&amp;f=201">JBoss Tools
                        Forum</a>
                </p></li><li><p>
                    <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://download.jboss.org/jbosstools/nightly-docs/">The latest
                        JBossTools/JBDS documentation builds</a>
                </p></li><li><p>
                    <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.jboss.com/products/devstudio/docs">Stable JBossTools/JBDS
                        documentation</a> (supplied with the latest JBDS release, 1.1.0GA
                    currently) </p></li></ul></div></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="installation"/>Chapter 2. Installation issues</h2></div></div></div><p>This section provides you with the steps on how to start with <span class="property">JBoss
        Portal</span> and integrated features using <span class="property">JBoss Tools</span>.</p><div class="itemizedlist"><ul><li><p>First, you need to have Eclipse Ganymede with JBoss Tools 3.0Alpha installed.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip:</h2><p>Read <a xmlns:xlink="http://www.w3.org/1999/xlink" href="../../GettingStartedGuide/html_single/index.html#WhatDifferenceBetweenJBDSAndJBossTools">JBoss Tools
                        Installation</a> section in our Getting Started documentation to find
                    out how to install <span class="property">JBoss Tools</span> onto Eclipse.</p></div></li><li><p>Next, download the JBoss Portal + JBoss AS bundle from <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.jboss.org/jbossportal/download/index.html">JBoss Portal Download
                    page</a></p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note:</h2><p>You need JBoss Portal 2.7 if you want to work with a Portlet 2.0</p></div></li><li><p>Extract the bundle wherever you want on your hard drive</p></li></ul></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="starting_project"/>Chapter 3. Starting the Project with JBoss Portal</h2></div></div></div><div class="toc"><dl><dt><span xmlns="" class="section"><a href="#creating _project_with_jbossportal">3.1. Creating a Dynamic Web Project</a></span></dt><dt><span xmlns="" class="section"><a href="#structure_overview">3.2. The Project Structure Overview</a></span></dt></dl></div><p>To get started with <span class="property">JBoss Portal</span> and <span class="property">JBoss
        Tools</span>, you should first have a Web Project pointed to the JBoss Portal Runtime.
        Thus, this chapter is intended to give you a detail look at how you can get it.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="creating _project_with_jbossportal"/>3.1. Creating a Dynamic Web Project</h2></div></div></div><p>To create a Dynamic Web Project, go to <span class="emphasis"><em>
                <span class="property">File &gt; New &gt; Dynamic Web Project</span>
            </em></span> if you are in the <span class="property">Web Perspective</span> or <span class="property">File &gt;
                New &gt; Other &gt; Web &gt; Dynamic Web Project</span> in any other Perspective. The
            first page of the New Dynamic Web Project wizard looks as follows.</p><div class="figure"><a id="d0e244"/><div class="figure-contents"><div class="mediaobject"><img src="images/starting_project/starting_project_1.png" alt="New Dynamic Web Project"/></div></div><p class="title"><b>Figure 3.1. New Dynamic Web Project</b></p></div><br class="figure-break"/><p>Fill in the name of your project. Next, click on the <span class="emphasis"><em>
                <span class="property">New...</span>
            </em></span> button in the <span class="emphasis"><em>
                <span class="property">Target Runtime</span>
            </em></span> section to specify a new Target Runtime. Click <span class="emphasis"><em>Jboss 4.2
            Runtime</em></span> and press <span class="emphasis"><em>
                <span class="property">Next</span>.</em></span></p><div class="figure"><a id="d0e272"/><div class="figure-contents"><div class="mediaobject"><img src="images/starting_project/starting_project_2.png" alt="New Server Runtime"/></div></div><p class="title"><b>Figure 3.2. New Server Runtime</b></p></div><br class="figure-break"/><p>On the next page you should give a name to the runtime. Let's call it
                <span class="emphasis"><em>JBoss Portal 2.7 Runtime</em></span>. And then point it to the location of
            your JBoss AS + Portal installation.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note:</h2><p>The JBoss Tools Portlet feature has been tested using 2.6.5 and 2.7.0.ALPHA
                versions of <span class="property">JBoss Portal</span>. Remember, if you want to use Portlet
                version 2.0 (JSR-268), you have to choose JBoss Portal 2.7.</p></div><div class="figure"><a id="d0e291"/><div class="figure-contents"><div class="mediaobject"><img src="images/starting_project/starting_project_3.png" alt="Target Runtime"/></div></div><p class="title"><b>Figure 3.3. Target Runtime</b></p></div><br class="figure-break"/><p>Click on <span class="emphasis"><em>
                <span class="property">Finish</span>.</em></span> It returns you to the <span class="property">New Dynamic
                Web Project</span> wizard where it' also necessary to set the project
            Configuration. <span class="property">JBoss Tools</span> (starting from 3.0 Alpha) support the
            JSR-168 Portlet Specification (Portlet 1.0), JSR-286 Portlet Specification (Portlet
            2.0). Thus you can choose <span class="emphasis"><em>Portlet Project v1.0</em></span> or <span class="emphasis"><em>Portlet
                Project v2.0</em></span>.</p><div class="figure"><a id="d0e317"/><div class="figure-contents"><div class="mediaobject"><img src="images/starting_project/starting_project_4.png" alt="Setting the Project Configuration"/></div></div><p class="title"><b>Figure 3.4. Setting the Project Configuration</b></p></div><br class="figure-break"/><p>The last wizard page is for configuring web modules. Here all values are set, so you
            can leave everything as it is.</p><div class="figure"><a id="d0e325"/><div class="figure-contents"><div class="mediaobject"><img src="images/starting_project/starting_project_5.png" alt="The Project Web Modules"/></div></div><p class="title"><b>Figure 3.5. The Project Web Modules</b></p></div><br class="figure-break"/><p>Press <span class="emphasis"><em>
                <span class="property">Finish</span>.</em></span>
        </p><p>That's it! Our base project is done.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="structure_overview"/>3.2. The Project Structure Overview</h2></div></div></div><p>Now, let's look at the structure of the just created project.</p><div class="figure"><a id="d0e346"/><div class="figure-contents"><div class="mediaobject"><img src="images/starting_project/starting_project_6.png" alt="The Project Structure Overview"/></div></div><p class="title"><b>Figure 3.6. The Project Structure Overview</b></p></div><br class="figure-break"/><p>What <span class="property">JBoos Tools</span> have done here, it's adding JBoss
            Portlet facet to the project, creating an empty <span class="emphasis"><em>
                <span class="property">portlet.xml</span>
            </em></span> file and adding the portlet library to the project classpath.</p></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="portlets_support"/>Chapter 4. JBoss Portlet Support</h2></div></div></div><div class="toc"><dl><dt><span xmlns="" class="section"><a href="#adding_java_portlet">4.1. Adding a Java Portlet to the Project</a></span></dt><dt><span xmlns="" class="section"><a href="#adding_JsfSeam_portlet">4.2. Adding JSF/Seam Portlets</a></span></dt><dt><span xmlns="" class="section"><a href="#d0e543">4.3. Deploying a Portlet to JBoss Portal</a></span></dt></dl></div><p><span class="property">JBoss Tools</span> (starting from 3.0 Alpha) support the JSR-168 Portlet
        Specification (Portlet 1.0), JSR-286 Portlet Specification (Portlet 2.0) and work with
            <span class="property">Portlet Bridge</span> for supporting Portlets in JSF/Seam applications.
        All these are performed through the Create New Portlet wizards.</p><p>There are two kinds of the Create Portlet wizards: <span class="property">Java Portlet</span> and
            <span class="property">JSF/Seam Portlet</span>.</p><p>How to create Java Portlet within just organized Dynamic Web Project we will show you
        further in this chapter.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="adding_java_portlet"/>4.1. Adding a Java Portlet to the Project</h2></div></div></div><p>Here, we'll show how you can add a new Java Portlet to our project.</p><p>Call the New Java Portlet wizard by selecting <span class="emphasis"><em>
                <span class="property">New &gt; Other &gt; JBoss Tools Web &gt; Portlet &gt; Java
            Portlet</span>.</em></span></p><div class="figure"><a id="d0e396"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_1.png" alt="New Java Portlet"/></div></div><p class="title"><b>Figure 4.1. New Java Portlet</b></p></div><br class="figure-break"/><p>The Web Project and Source Folder fields the wizard fills in for you itself. Specify
            the Java package and the Class name and click <span class="emphasis"><em>
                <span class="property">Next</span>
            </em></span>.</p><div class="figure"><a id="d0e410"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_2.png" alt="Specifying Class File Destination"/></div></div><p class="title"><b>Figure 4.2. Specifying Class File Destination</b></p></div><br class="figure-break"/><p>On the other page you will be able to set the display name of the Portlet, a title, a
            description, the supported modes and init parameters.</p><div class="figure"><a id="d0e418"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_3.png" alt="Specifying Class File Destination"/></div></div><p class="title"><b>Figure 4.3. Specifying Class File Destination</b></p></div><br class="figure-break"/><p>On the next screen you can define which methods from
            <span class="emphasis"><em>GenericPortlet</em></span> you want to override.</p><div class="figure"><a id="d0e429"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_4.png" alt="Specifying Class File Destination"/></div></div><p class="title"><b>Figure 4.4. Specifying Class File Destination</b></p></div><br class="figure-break"/><p>The last screen lets you build <span class="property">JBoss Portal</span> specific descriptors
            to create an instance during the deployment and place it directly on the Portal.</p><div class="figure"><a id="d0e440"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_5.png" alt="Specifying Class File Destination"/></div></div><p class="title"><b>Figure 4.5. Specifying Class File Destination</b></p></div><br class="figure-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip:</h2><p>If you uncheck the <span class="emphasis"><em> Create Portlet Instance</em></span> checkbox,
                    <span class="property">JBoss Tools</span> won't create the deployment elements
                in the <span class="emphasis"><em> default-object.xml</em></span> and <span class="emphasis"><em>
                portlet-instances.xml</em></span> files.</p></div><p>Once Java Portlet is created, new resources have been added to the project structure.
            As you can see on the figure below, it adds a Java Portlet class (<span class="emphasis"><em>
                <span class="property">TestPortlet.java</span>
            </em></span> in our case), <span class="emphasis"><em>
                <span class="property">default-object.xml</span>
            </em></span> and <span class="emphasis"><em>
                <span class="property">portlet-instances.xml</span>
            </em></span> files and updates <span class="emphasis"><em>
                <span class="property">portlet.xml</span>
            </em></span> as well.</p><div class="figure"><a id="d0e489"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_6.png" alt="The structure of Web Project with Java Portlet created"/></div></div><p class="title"><b>Figure 4.6. The structure of Web Project with Java Portlet created</b></p></div><br class="figure-break"/><p>Thus, now the Project is ready to be built and deployed.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="adding_JsfSeam_portlet"/>4.2. Adding JSF/Seam Portlets</h2></div></div></div><p>What comes to JSF/Seam Portlets, you need to have a Web Project with enabled JSF/Seam
            Portlet Facets. Thus in this case when starting a new Dynamic Web Project, you should
            point to <span class="emphasis"><em>JBoss JSF/Seam Portlet Project v1.0</em></span> (or
            <span class="emphasis"><em>v2.0</em></span>) Configuration respectively.</p><div class="figure"><a id="d0e508"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_7.png" alt="Dynamic Web Project with JSF/Seam Portlet Facet"/></div></div><p class="title"><b>Figure 4.7. Dynamic Web Project with JSF/Seam Portlet Facet</b></p></div><br class="figure-break"/><p>To create Portlet in the JSF/Seam Project you should go to <span class="emphasis"><em>
                <span class="property">New &gt; Other &gt; JBoss Tools Web &gt; Portlet &gt; JSF/Seam
            Portlet</span>.</em></span></p><div class="figure"><a id="d0e521"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_8.png" alt="Calling the JSF/Seam Portlet Wizard"/></div></div><p class="title"><b>Figure 4.8. Calling the JSF/Seam Portlet Wizard</b></p></div><br class="figure-break"/><p>If a project contains the Seam Portlet facet, default values in the wizard will be set
            as for a Seam Portlet.</p><div class="figure"><a id="d0e529"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_9.png" alt="JBoss JSF/Seam Portlet Wizard Page with JSF defaults"/></div></div><p class="title"><b>Figure 4.9. JBoss JSF/Seam Portlet Wizard Page with JSF defaults</b></p></div><br class="figure-break"/><p>Otherwise, the default values are as defined for a JSF Portlet.</p><div class="figure"><a id="d0e537"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_10.png" alt="JBoss JSF/Seam Portlet Wizard Page with Seam defaults"/></div></div><p class="title"><b>Figure 4.10. JBoss JSF/Seam Portlet Wizard Page with Seam defaults</b></p></div><br class="figure-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e543"/>4.3. Deploying a Portlet to JBoss Portal</h2></div></div></div><p>You can deploy the created project in the way you deploy any other Web Application.
            Right click on the project and do <span class="emphasis"><em>
                <span class="property">Run As &gt; Run On Server</span>
            </em></span> and accept the defaults. On the <span class="emphasis"><em>
                <span class="property">Add and Remove Projects</span>
            </em></span> page move the created Project to the right and click <span class="emphasis"><em>
                <span class="property">Finish</span>.</em></span></p><div class="figure"><a id="d0e565"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_11.png" alt="Deploying the Portlet Application"/></div></div><p class="title"><b>Figure 4.11. Deploying the Portlet Application</b></p></div><br class="figure-break"/><p>It will deploy the Portlet Web Application and start <span class="property">JBoss AS</span>.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip:</h2><p>You should use <span class="emphasis"><em>http://localhost:8080/portal</em></span> URL to see your
                Portlet in the Browser.</p></div><div class="figure"><a id="d0e584"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_12.png" alt="Java Portlet in the Browser Window"/></div></div><p class="title"><b>Figure 4.12. Java Portlet in the Browser Window</b></p></div><br class="figure-break"/><p>The JSF Portlet looks in the Browser as follows.</p><div class="figure"><a id="d0e592"/><div class="figure-contents"><div class="mediaobject"><img src="images/portlets_support/portlets_support_13.png" alt="JSF Portlet in the Browser Window"/></div></div><p class="title"><b>Figure 4.13. JSF Portlet in the Browser Window</b></p></div><br class="figure-break"/></div></div></div></body></html>